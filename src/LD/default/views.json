{
    "dev_rdf": {
        "views": {
            "subject": {
                "map": "function (doc, meta) {\n  if(/.vocabulary./.test(meta.id)) return;\n  //if(/_:/.test(meta.id) || /#_/.test(meta.id)) return;\n   emit(doc[\"@id\"], null);\n}"
            },
            "predicate": {
                "map": "function (doc, meta) {\n  if(/.vocabulary./.test(meta.id)) return;\n  //if(/_:/.test(meta.id) || /#_/.test(meta.id)) return;\n  for(var i in doc){\n    if (Array.isArray(doc[i]))\n      for(var j in doc[i]){\n        emit(i, null);\n      }\n  }\n}"
            },
            "object": {
                "map": "function (doc, meta) {\n  if(/.vocabulary./.test(meta.id)) return;\n  //if(/_:/.test(meta.id) || /#_/.test(meta.id)) return;\n  for(var i in doc){\n    if (Array.isArray(doc[i]))\n      for(var j in doc[i]){\n        if(i == \"@type\") emit(doc[i][j], null);\n        if(doc[i][j][\"@id\"]) emit(doc[i][j][\"@id\"], null);\n      }\n  }\n}"
            },
            "jsonld-subject": {
                "map": "function (doc, meta) {\n    if(/.vocabulary./.test(meta.id)) return;\n \tfunction _labelBlankNodes(e,t){if(_isArray(t))for(var r=0;r<t.length;++r)t[r]=_labelBlankNodes(e,t[r]);else if(_isList(t))t[\"@list\"]=_labelBlankNodes(e,t[\"@list\"]);else if(_isObject(t)){_isBlankNode(t)&&(t[\"@id\"]=e.getId(t[\"@id\"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];\"@id\"!==a&&(t[a]=_labelBlankNodes(e,t[a]))}}return t}function _graphToRDF(e,t,r){for(var n=[],i=Object.keys(e).sort(),a=0;a<i.length;++a)for(var s=i[a],o=e[s],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=l[u],p=o[c];if(\"@type\"===c)c=RDF_TYPE;else if(_isKeyword(c))continue;for(var d=0;d<p.length;++d){var f=p[d],h={};if(h.type=0===s.indexOf(\"_:\")?\"blank node\":\"IRI\",h.value=s,_isAbsoluteIri(s)){var y={};if(y.type=0===c.indexOf(\"_:\")?\"blank node\":\"IRI\",y.value=c,_isAbsoluteIri(c)&&(\"blank node\"!==y.type||r.produceGeneralizedRdf))if(_isList(f))_listToRDF(f[\"@list\"],t,h,y,n);else{var g=_objectToRDF(f);g&&n.push({subject:h,predicate:y,object:g})}}}}return n}function _listToRDF(e,t,r,n,i){for(var a={type:\"IRI\",value:RDF_FIRST},s={type:\"IRI\",value:RDF_REST},o={type:\"IRI\",value:RDF_NIL},l=0;l<e.length;++l){var u=e[l],c={type:\"blank node\",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=a;var p=_objectToRDF(u);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:o})}function _objectToRDF(e){var t={};if(_isValue(e)){t.type=\"literal\";var r=e[\"@value\"],n=e[\"@type\"]||null;_isBoolean(r)?(t.value=r.toString(),t.datatype=n||XSD_BOOLEAN):_isDouble(r)||n===XSD_DOUBLE?(_isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\\d)0*e\\+?/,\"$1E\"),t.datatype=n||XSD_DOUBLE):_isNumber(r)?(t.value=r.toFixed(0),t.datatype=n||XSD_INTEGER):\"@language\"in e?(t.value=r,t.datatype=n||RDF_LANGSTRING,t.language=e[\"@language\"]):(t.value=r,t.datatype=n||XSD_STRING)}else{var i=_isObject(e)?e[\"@id\"]:e;t.type=0===i.indexOf(\"_:\")?\"blank node\":\"IRI\",t.value=i}return\"IRI\"!==t.type||_isAbsoluteIri(t.value)?t:null}function _compareRDFTriples(e,t){for(var r=[\"subject\",\"predicate\",\"object\"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function _createNodeMap(e,t,r,n,i,a){if(_isArray(e))for(var s=0;s<e.length;++s)_createNodeMap(e[s],t,r,n,void 0,a);else{if(!_isObject(e))return void(a&&a.push(e));if(_isValue(e)){if(\"@type\"in e){var o=e[\"@type\"];0===o.indexOf(\"_:\")&&(e[\"@type\"]=o=n.getId(o))}return void(a&&a.push(e))}if(\"@type\"in e)for(var l=e[\"@type\"],s=0;s<l.length;++s){var o=l[s];0===o.indexOf(\"_:\")&&n.getId(o)}_isUndefined(i)&&(i=_isBlankNode(e)?n.getId(e[\"@id\"]):e[\"@id\"]),a&&a.push({\"@id\":i});var u=t[r],c=u[i]=u[i]||{};c[\"@id\"]=i;for(var p=Object.keys(e).sort(),d=0;d<p.length;++d){var f=p[d];if(\"@id\"!==f)if(\"@reverse\"!==f)if(\"@graph\"!==f)if(\"@type\"!==f&&_isKeyword(f)){if(\"@index\"===f&&f in c&&(e[f]!==c[f]||e[f][\"@id\"]!==c[f][\"@id\"]))throw new JsonLdError(\"Invalid JSON-LD syntax; conflicting @index property detected.\",\"jsonld.SyntaxError\",{code:\"conflicting indexes\",subject:c});c[f]=e[f]}else{var h=e[f];if(0===f.indexOf(\"_:\")&&(f=n.getId(f)),0!==h.length)for(var y=0;y<h.length;++y){var g=h[y];if(\"@type\"===f&&(g=0===g.indexOf(\"_:\")?n.getId(g):g),_isSubject(g)||_isSubjectReference(g)){var v=_isBlankNode(g)?n.getId(g[\"@id\"]):g[\"@id\"];jsonld.addValue(c,f,{\"@id\":v},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(g,t,r,n,v)}else if(_isList(g)){var _=[];_createNodeMap(g[\"@list\"],t,r,n,i,_),g={\"@list\":_},jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(g,t,r,n,i),jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(c,f,[],{propertyIsArray:!0})}else{i in t||(t[i]={});var j=\"@merged\"===r?r:i;_createNodeMap(e[f],t,j,n)}else{var b={\"@id\":i},I=e[\"@reverse\"];for(var N in I)for(var O=I[N],D=0;D<O.length;++D){var R=O[D],m=R[\"@id\"];_isBlankNode(R)&&(m=n.getId(m)),_createNodeMap(R,t,r,n,m),jsonld.addValue(u[m],N,b,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(e){for(var t=e[\"@default\"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if(\"@default\"!==i){var a=e[i],s=t[i];s?\"@graph\"in s||(s[\"@graph\"]=[]):t[i]=s={\"@id\":i,\"@graph\":[]};for(var o=s[\"@graph\"],l=Object.keys(a).sort(),u=0;u<l.length;++u){var c=a[l[u]];_isSubjectReference(c)||o.push(c)}}}return t}function _compareShortestLeast(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function _prependBase(e,t){if(null===e)return t;if(-1!==t.indexOf(\":\"))return t;_isString(e)&&(e=jsonld.url.parse(e||\"\"));var r=jsonld.url.parse(t),n={protocol:e.protocol||\"\"};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,\"\"===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf(\"/\"))n.path=r.path;else{var i=e.path;\"\"!==r.path&&(i=i.substr(0,i.lastIndexOf(\"/\")+1),i.length>0&&\"/\"!==i.substr(-1)&&(i+=\"/\"),i+=r.path),n.path=i}n.query=r.query}n.path=_removeDotSegments(n.path,!!n.authority);var a=n.protocol;return null!==n.authority&&(a+=\"//\"+n.authority),a+=n.path,null!==n.query&&(a+=\"?\"+n.query),null!==r.fragment&&(a+=\"#\"+r.fragment),\"\"===a&&(a=\"./\"),a}function _getInitialContext(e){function t(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e[\"@language\"]||\"@none\",i=e.mappings,a=Object.keys(i).sort(_compareShortestLeast),s=0;s<a.length;++s){var o=a[s],l=i[o];if(null!==l){var u=l[\"@container\"]||\"@none\",c=l[\"@id\"];_isArray(c)||(c=[c]);for(var p=0;p<c.length;++p){var d=c[p],f=t[d];if(f||(t[d]=f={}),f[u]||(f[u]={\"@language\":{},\"@type\":{}}),f=f[u],l.reverse)r(l,o,f[\"@type\"],\"@reverse\");else if(\"@type\"in l)r(l,o,f[\"@type\"],l[\"@type\"]);else if(\"@language\"in l){var h=l[\"@language\"]||\"@null\";r(l,o,f[\"@language\"],h)}else r(l,o,f[\"@language\"],n),r(l,o,f[\"@type\"],\"@none\"),r(l,o,f[\"@language\"],\"@none\")}}}return t}function r(e,t,r,n){n in r||(r[n]=t)}function n(){var e={};return e[\"@base\"]=this[\"@base\"],e.mappings=_clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,\"@language\"in this&&(e[\"@language\"]=this[\"@language\"]),\"@vocab\"in this&&(e[\"@vocab\"]=this[\"@vocab\"]),e}var i=jsonld.url.parse(e.base||\"\");return{\"@base\":i,mappings:{},inverse:null,getInverse:t,clone:n}}function _isKeyword(e){if(!_isString(e))return!1;switch(e){case\"@base\":case\"@context\":case\"@container\":case\"@default\":case\"@embed\":case\"@explicit\":case\"@graph\":case\"@id\":case\"@index\":case\"@language\":case\"@list\":case\"@omitDefault\":case\"@preserve\":case\"@requireAll\":case\"@reverse\":case\"@set\":case\"@type\":case\"@value\":case\"@vocab\":return!0}return!1}function _isObject(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function _isEmptyObject(e){return _isObject(e)&&0===Object.keys(e).length}function _isArray(e){return Array.isArray(e)}function _validateTypeValue(e){if(!_isString(e)&&!_isEmptyObject(e)){var t=!1;if(_isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!_isString(e[r])){t=!1;break}}if(!t)throw new JsonLdError('Invalid JSON-LD syntax; \"@type\" value must a string, an array of strings, or an empty object.',\"jsonld.SyntaxError\",{code:\"invalid type value\",value:e})}}function _isString(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)}function _isNumber(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function _isDouble(e){return _isNumber(e)&&-1!==String(e).indexOf(\".\")}function _isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _isBoolean(e){return\"boolean\"==typeof e||\"[object Boolean]\"===Object.prototype.toString.call(e)}function _isUndefined(e){return\"undefined\"==typeof e}function _isSubject(e){var t=!1;if(_isObject(e)&&!(\"@value\"in e||\"@set\"in e||\"@list\"in e)){var r=Object.keys(e).length;t=r>1||!(\"@id\"in e)}return t}function _isSubjectReference(e){return _isObject(e)&&1===Object.keys(e).length&&\"@id\"in e}function _isValue(e){return _isObject(e)&&\"@value\"in e}function _isList(e){return _isObject(e)&&\"@list\"in e}function _isBlankNode(e){var t=!1;return _isObject(e)&&(t=\"@id\"in e?0===e[\"@id\"].indexOf(\"_:\"):0===Object.keys(e).length||!(\"@value\"in e||\"@set\"in e||\"@list\"in e)),t}function _isAbsoluteIri(e){return _isString(e)&&-1!==e.indexOf(\":\")}function _clone(e){if(e&&\"object\"==typeof e){var t;if(_isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=_clone(e[r])}else if(_isObject(e)){t={};for(var n in e)t[n]=_clone(e[n])}else t=e.toString();return t}return e}function _toNQuads(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var a=n[i];\"@default\"===r&&(r=null),t.push(_toNQuad(a,r))}return t.sort().join(\"\")}function _toNQuad(e,t){var r=e.subject,n=e.predicate,i=e.object,a=t||null;\"name\"in e&&e.name&&(a=e.name.value);var s=\"\";if(s+=\"IRI\"===r.type?\"<\"+r.value+\">\":r.value,s+=\" \",s+=\"IRI\"===n.type?\"<\"+n.value+\">\":n.value,s+=\" \",\"IRI\"===i.type)s+=\"<\"+i.value+\">\";else if(\"blank node\"===i.type)s+=i.value;else{var o=i.value.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\\"/g,'\\\\\"');s+='\"'+o+'\"',i.datatype===RDF_LANGSTRING?i.language&&(s+=\"@\"+i.language):i.datatype!==XSD_STRING&&(s+=\"^^<\"+i.datatype+\">\")}return null!==a&&void 0!==a&&(s+=0!==a.indexOf(\"_:\")?\" <\"+a+\">\":\" \"+a),s+=\" .\\n\"}function IdentifierIssuer(e){this.prefix=e,this.counter=0,this.existing={}}function _removeDotSegments(e,t){var r=\"\";0===e.indexOf(\"/\")&&(r=\"/\");for(var n=e.split(\"/\"),i=[];n.length>0;)\".\"===n[0]||\"\"===n[0]&&n.length>1?n.shift():\"..\"!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&\"..\"!==i[i.length-1]?i.pop():i.push(\"..\"));return r+i.join(\"/\")}var jsonld={},_nodejs=\"undefined\"!=typeof module;if(jsonld.toRDF=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),t=t||{},\"base\"in t||(t.base=\"string\"==typeof e?e:\"\");var n;try{if(n=Processor.prototype.toRDF(e,t),t.format){if(\"application/nquads\"===t.format)return r(null,_toNQuads(n));throw new JsonLdError(\"Unknown output format.\",\"jsonld.UnknownFormat\",{format:t.format})}}catch(i){return r(i)}r(null,n)},jsonld.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||t.issuer||new IdentifierIssuer(\"_:b\");return _labelBlankNodes(r,e)},jsonld.prependBase=function(e,t){return _prependBase(e,t)},jsonld.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},jsonld.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},jsonld.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a}),i in this.cache||(this.cache[i]={}),this.cache[i][a]=_clone(r)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!_isArray(n)||n.length>0}return r},jsonld.hasValue=function(e,t,r){var n=!1;if(jsonld.hasProperty(e,t)){var i=e[t],a=_isList(i);if(_isArray(i)||a){a&&(i=i[\"@list\"]);for(var s=0;s<i.length;++s)if(jsonld.compareValues(r,i[s])){n=!0;break}}else _isArray(r)||(n=jsonld.compareValues(r,i))}return n},jsonld.addValue=function(e,t,r,n){if(n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1),\"allowDuplicate\"in n||(n.allowDuplicate=!0),_isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(var i=0;i<r.length;++i)jsonld.addValue(e,t,r[i],n)}else if(t in e){var a=!n.allowDuplicate&&jsonld.hasValue(e,t,r);_isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jsonld.getValues=function(e,t){var r=e[t]||[];return _isArray(r)||(r=[r]),r},jsonld.removeProperty=function(e,t){delete e[t]},jsonld.removeValue=function(e,t,r,n){n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1);var i=jsonld.getValues(e,t).filter(function(e){return!jsonld.compareValues(e,r)});0===i.length?jsonld.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jsonld.compareValues=function(e,t){return e===t?!0:_isValue(e)&&_isValue(t)&&e[\"@value\"]===t[\"@value\"]&&e[\"@type\"]===t[\"@type\"]&&e[\"@language\"]===t[\"@language\"]&&e[\"@index\"]===t[\"@index\"]?!0:_isObject(e)&&\"@id\"in e&&_isObject(t)&&\"@id\"in t?e[\"@id\"]===t[\"@id\"]:!1},jsonld.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if(\"@language\"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];_isUndefined(r)?n=i:r in i&&(n=i[r])}return n},_nodejs){if(\"undefined\"==typeof XMLSerializer)var XMLSerializer=null;if(\"undefined\"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN=\"http://www.w3.org/2001/XMLSchema#boolean\",XSD_DOUBLE=\"http://www.w3.org/2001/XMLSchema#double\",XSD_INTEGER=\"http://www.w3.org/2001/XMLSchema#integer\",XSD_STRING=\"http://www.w3.org/2001/XMLSchema#string\",RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",RDF_LIST=RDF+\"List\",RDF_FIRST=RDF+\"first\",RDF_REST=RDF+\"rest\",RDF_NIL=RDF+\"nil\",RDF_TYPE=RDF+\"type\",RDF_PLAIN_LITERAL=RDF+\"PlainLiteral\",RDF_XML_LITERAL=RDF+\"XMLLiteral\",RDF_OBJECT=RDF+\"object\",RDF_LANGSTRING=RDF+\"langString\",LINK_HEADER_REL=\"http://www.w3.org/ns/json-ld#context\",MAX_CONTEXT_URLS=10,JsonLdError=function(e,t,r){_nodejs&&(Error.call(this),Error.captureStackTrace(this,this.constructor)),this.name=t||\"jsonld.Error\",this.message=e||\"An unspecified JSON-LD error occurred.\",this.details=r||{}};_nodejs&&require(\"util\").inherits(JsonLdError,Error);var Processor=function(){};Processor.prototype.toRDF=function(e,t){var r=new IdentifierIssuer(\"_:b\"),n={\"@default\":{}};_createNodeMap(e,n,\"@default\",r);for(var i={},a=Object.keys(n).sort(),s=0;s<a.length;++s){var o=a[s];(\"@default\"===o||_isAbsoluteIri(o))&&(i[o]=_graphToRDF(n[o],r,t))}return i},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError(\"Object.keys called on non-object\");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var e=new IdentifierIssuer(this.prefix);return e.counter=this.counter,e.existing=_clone(this.existing),e},IdentifierIssuer.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(e){return e in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;n>i;++i){var a=this.list[i],s=this.left[a];(null===t||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&n-1>i&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o],this.list[o]=t;for(var i=0;n>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e},jsonld.url={},jsonld.url.parsers={simple:{keys:[\"href\",\"scheme\",\"authority\",\"path\",\"query\",\"fragment\"],regex:/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/},full:{keys:[\"href\",\"protocol\",\"scheme\",\"authority\",\"auth\",\"user\",\"password\",\"hostname\",\"port\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],regex:/^(([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?(?:(((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(e,t){for(var r={},n=jsonld.url.parsers[t||\"full\"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return r.normalizedPath=_removeDotSegments(r.path,!!r.authority),r};\n    var cb = function(err, dataset) {\n        if(err) {\n          return;\n        }\n      for (var i in dataset){\n        var graph = dataset[i];\n        for (var j in graph){\n          var statement = graph[j];\n          emit(statement.subject.value, statement);\n        }\n      }\n  };\n  \n  var rdf = jsonld.toRDF(doc,cb);\n}",
                "reduce": "function (key, vals){\n  var out = [];\n  for (var i in vals)\n  {\n   out.push(vals[i]); \n  }\n  return out;\n}"
            },
            "jsonld-object": {
                "map": "function (doc, meta) {\n    if(/.vocabulary./.test(meta.id)) return;\n \tfunction _labelBlankNodes(e,t){if(_isArray(t))for(var r=0;r<t.length;++r)t[r]=_labelBlankNodes(e,t[r]);else if(_isList(t))t[\"@list\"]=_labelBlankNodes(e,t[\"@list\"]);else if(_isObject(t)){_isBlankNode(t)&&(t[\"@id\"]=e.getId(t[\"@id\"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];\"@id\"!==a&&(t[a]=_labelBlankNodes(e,t[a]))}}return t}function _graphToRDF(e,t,r){for(var n=[],i=Object.keys(e).sort(),a=0;a<i.length;++a)for(var s=i[a],o=e[s],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=l[u],p=o[c];if(\"@type\"===c)c=RDF_TYPE;else if(_isKeyword(c))continue;for(var d=0;d<p.length;++d){var f=p[d],h={};if(h.type=0===s.indexOf(\"_:\")?\"blank node\":\"IRI\",h.value=s,_isAbsoluteIri(s)){var y={};if(y.type=0===c.indexOf(\"_:\")?\"blank node\":\"IRI\",y.value=c,_isAbsoluteIri(c)&&(\"blank node\"!==y.type||r.produceGeneralizedRdf))if(_isList(f))_listToRDF(f[\"@list\"],t,h,y,n);else{var g=_objectToRDF(f);g&&n.push({subject:h,predicate:y,object:g})}}}}return n}function _listToRDF(e,t,r,n,i){for(var a={type:\"IRI\",value:RDF_FIRST},s={type:\"IRI\",value:RDF_REST},o={type:\"IRI\",value:RDF_NIL},l=0;l<e.length;++l){var u=e[l],c={type:\"blank node\",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=a;var p=_objectToRDF(u);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:o})}function _objectToRDF(e){var t={};if(_isValue(e)){t.type=\"literal\";var r=e[\"@value\"],n=e[\"@type\"]||null;_isBoolean(r)?(t.value=r.toString(),t.datatype=n||XSD_BOOLEAN):_isDouble(r)||n===XSD_DOUBLE?(_isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\\d)0*e\\+?/,\"$1E\"),t.datatype=n||XSD_DOUBLE):_isNumber(r)?(t.value=r.toFixed(0),t.datatype=n||XSD_INTEGER):\"@language\"in e?(t.value=r,t.datatype=n||RDF_LANGSTRING,t.language=e[\"@language\"]):(t.value=r,t.datatype=n||XSD_STRING)}else{var i=_isObject(e)?e[\"@id\"]:e;t.type=0===i.indexOf(\"_:\")?\"blank node\":\"IRI\",t.value=i}return\"IRI\"!==t.type||_isAbsoluteIri(t.value)?t:null}function _compareRDFTriples(e,t){for(var r=[\"subject\",\"predicate\",\"object\"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function _createNodeMap(e,t,r,n,i,a){if(_isArray(e))for(var s=0;s<e.length;++s)_createNodeMap(e[s],t,r,n,void 0,a);else{if(!_isObject(e))return void(a&&a.push(e));if(_isValue(e)){if(\"@type\"in e){var o=e[\"@type\"];0===o.indexOf(\"_:\")&&(e[\"@type\"]=o=n.getId(o))}return void(a&&a.push(e))}if(\"@type\"in e)for(var l=e[\"@type\"],s=0;s<l.length;++s){var o=l[s];0===o.indexOf(\"_:\")&&n.getId(o)}_isUndefined(i)&&(i=_isBlankNode(e)?n.getId(e[\"@id\"]):e[\"@id\"]),a&&a.push({\"@id\":i});var u=t[r],c=u[i]=u[i]||{};c[\"@id\"]=i;for(var p=Object.keys(e).sort(),d=0;d<p.length;++d){var f=p[d];if(\"@id\"!==f)if(\"@reverse\"!==f)if(\"@graph\"!==f)if(\"@type\"!==f&&_isKeyword(f)){if(\"@index\"===f&&f in c&&(e[f]!==c[f]||e[f][\"@id\"]!==c[f][\"@id\"]))throw new JsonLdError(\"Invalid JSON-LD syntax; conflicting @index property detected.\",\"jsonld.SyntaxError\",{code:\"conflicting indexes\",subject:c});c[f]=e[f]}else{var h=e[f];if(0===f.indexOf(\"_:\")&&(f=n.getId(f)),0!==h.length)for(var y=0;y<h.length;++y){var g=h[y];if(\"@type\"===f&&(g=0===g.indexOf(\"_:\")?n.getId(g):g),_isSubject(g)||_isSubjectReference(g)){var v=_isBlankNode(g)?n.getId(g[\"@id\"]):g[\"@id\"];jsonld.addValue(c,f,{\"@id\":v},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(g,t,r,n,v)}else if(_isList(g)){var _=[];_createNodeMap(g[\"@list\"],t,r,n,i,_),g={\"@list\":_},jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(g,t,r,n,i),jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(c,f,[],{propertyIsArray:!0})}else{i in t||(t[i]={});var j=\"@merged\"===r?r:i;_createNodeMap(e[f],t,j,n)}else{var b={\"@id\":i},I=e[\"@reverse\"];for(var N in I)for(var O=I[N],D=0;D<O.length;++D){var R=O[D],m=R[\"@id\"];_isBlankNode(R)&&(m=n.getId(m)),_createNodeMap(R,t,r,n,m),jsonld.addValue(u[m],N,b,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(e){for(var t=e[\"@default\"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if(\"@default\"!==i){var a=e[i],s=t[i];s?\"@graph\"in s||(s[\"@graph\"]=[]):t[i]=s={\"@id\":i,\"@graph\":[]};for(var o=s[\"@graph\"],l=Object.keys(a).sort(),u=0;u<l.length;++u){var c=a[l[u]];_isSubjectReference(c)||o.push(c)}}}return t}function _compareShortestLeast(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function _prependBase(e,t){if(null===e)return t;if(-1!==t.indexOf(\":\"))return t;_isString(e)&&(e=jsonld.url.parse(e||\"\"));var r=jsonld.url.parse(t),n={protocol:e.protocol||\"\"};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,\"\"===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf(\"/\"))n.path=r.path;else{var i=e.path;\"\"!==r.path&&(i=i.substr(0,i.lastIndexOf(\"/\")+1),i.length>0&&\"/\"!==i.substr(-1)&&(i+=\"/\"),i+=r.path),n.path=i}n.query=r.query}n.path=_removeDotSegments(n.path,!!n.authority);var a=n.protocol;return null!==n.authority&&(a+=\"//\"+n.authority),a+=n.path,null!==n.query&&(a+=\"?\"+n.query),null!==r.fragment&&(a+=\"#\"+r.fragment),\"\"===a&&(a=\"./\"),a}function _getInitialContext(e){function t(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e[\"@language\"]||\"@none\",i=e.mappings,a=Object.keys(i).sort(_compareShortestLeast),s=0;s<a.length;++s){var o=a[s],l=i[o];if(null!==l){var u=l[\"@container\"]||\"@none\",c=l[\"@id\"];_isArray(c)||(c=[c]);for(var p=0;p<c.length;++p){var d=c[p],f=t[d];if(f||(t[d]=f={}),f[u]||(f[u]={\"@language\":{},\"@type\":{}}),f=f[u],l.reverse)r(l,o,f[\"@type\"],\"@reverse\");else if(\"@type\"in l)r(l,o,f[\"@type\"],l[\"@type\"]);else if(\"@language\"in l){var h=l[\"@language\"]||\"@null\";r(l,o,f[\"@language\"],h)}else r(l,o,f[\"@language\"],n),r(l,o,f[\"@type\"],\"@none\"),r(l,o,f[\"@language\"],\"@none\")}}}return t}function r(e,t,r,n){n in r||(r[n]=t)}function n(){var e={};return e[\"@base\"]=this[\"@base\"],e.mappings=_clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,\"@language\"in this&&(e[\"@language\"]=this[\"@language\"]),\"@vocab\"in this&&(e[\"@vocab\"]=this[\"@vocab\"]),e}var i=jsonld.url.parse(e.base||\"\");return{\"@base\":i,mappings:{},inverse:null,getInverse:t,clone:n}}function _isKeyword(e){if(!_isString(e))return!1;switch(e){case\"@base\":case\"@context\":case\"@container\":case\"@default\":case\"@embed\":case\"@explicit\":case\"@graph\":case\"@id\":case\"@index\":case\"@language\":case\"@list\":case\"@omitDefault\":case\"@preserve\":case\"@requireAll\":case\"@reverse\":case\"@set\":case\"@type\":case\"@value\":case\"@vocab\":return!0}return!1}function _isObject(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function _isEmptyObject(e){return _isObject(e)&&0===Object.keys(e).length}function _isArray(e){return Array.isArray(e)}function _validateTypeValue(e){if(!_isString(e)&&!_isEmptyObject(e)){var t=!1;if(_isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!_isString(e[r])){t=!1;break}}if(!t)throw new JsonLdError('Invalid JSON-LD syntax; \"@type\" value must a string, an array of strings, or an empty object.',\"jsonld.SyntaxError\",{code:\"invalid type value\",value:e})}}function _isString(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)}function _isNumber(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function _isDouble(e){return _isNumber(e)&&-1!==String(e).indexOf(\".\")}function _isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _isBoolean(e){return\"boolean\"==typeof e||\"[object Boolean]\"===Object.prototype.toString.call(e)}function _isUndefined(e){return\"undefined\"==typeof e}function _isSubject(e){var t=!1;if(_isObject(e)&&!(\"@value\"in e||\"@set\"in e||\"@list\"in e)){var r=Object.keys(e).length;t=r>1||!(\"@id\"in e)}return t}function _isSubjectReference(e){return _isObject(e)&&1===Object.keys(e).length&&\"@id\"in e}function _isValue(e){return _isObject(e)&&\"@value\"in e}function _isList(e){return _isObject(e)&&\"@list\"in e}function _isBlankNode(e){var t=!1;return _isObject(e)&&(t=\"@id\"in e?0===e[\"@id\"].indexOf(\"_:\"):0===Object.keys(e).length||!(\"@value\"in e||\"@set\"in e||\"@list\"in e)),t}function _isAbsoluteIri(e){return _isString(e)&&-1!==e.indexOf(\":\")}function _clone(e){if(e&&\"object\"==typeof e){var t;if(_isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=_clone(e[r])}else if(_isObject(e)){t={};for(var n in e)t[n]=_clone(e[n])}else t=e.toString();return t}return e}function _toNQuads(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var a=n[i];\"@default\"===r&&(r=null),t.push(_toNQuad(a,r))}return t.sort().join(\"\")}function _toNQuad(e,t){var r=e.subject,n=e.predicate,i=e.object,a=t||null;\"name\"in e&&e.name&&(a=e.name.value);var s=\"\";if(s+=\"IRI\"===r.type?\"<\"+r.value+\">\":r.value,s+=\" \",s+=\"IRI\"===n.type?\"<\"+n.value+\">\":n.value,s+=\" \",\"IRI\"===i.type)s+=\"<\"+i.value+\">\";else if(\"blank node\"===i.type)s+=i.value;else{var o=i.value.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\\"/g,'\\\\\"');s+='\"'+o+'\"',i.datatype===RDF_LANGSTRING?i.language&&(s+=\"@\"+i.language):i.datatype!==XSD_STRING&&(s+=\"^^<\"+i.datatype+\">\")}return null!==a&&void 0!==a&&(s+=0!==a.indexOf(\"_:\")?\" <\"+a+\">\":\" \"+a),s+=\" .\\n\"}function IdentifierIssuer(e){this.prefix=e,this.counter=0,this.existing={}}function _removeDotSegments(e,t){var r=\"\";0===e.indexOf(\"/\")&&(r=\"/\");for(var n=e.split(\"/\"),i=[];n.length>0;)\".\"===n[0]||\"\"===n[0]&&n.length>1?n.shift():\"..\"!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&\"..\"!==i[i.length-1]?i.pop():i.push(\"..\"));return r+i.join(\"/\")}var jsonld={},_nodejs=\"undefined\"!=typeof module;if(jsonld.toRDF=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),t=t||{},\"base\"in t||(t.base=\"string\"==typeof e?e:\"\");var n;try{if(n=Processor.prototype.toRDF(e,t),t.format){if(\"application/nquads\"===t.format)return r(null,_toNQuads(n));throw new JsonLdError(\"Unknown output format.\",\"jsonld.UnknownFormat\",{format:t.format})}}catch(i){return r(i)}r(null,n)},jsonld.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||t.issuer||new IdentifierIssuer(\"_:b\");return _labelBlankNodes(r,e)},jsonld.prependBase=function(e,t){return _prependBase(e,t)},jsonld.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},jsonld.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},jsonld.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a}),i in this.cache||(this.cache[i]={}),this.cache[i][a]=_clone(r)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!_isArray(n)||n.length>0}return r},jsonld.hasValue=function(e,t,r){var n=!1;if(jsonld.hasProperty(e,t)){var i=e[t],a=_isList(i);if(_isArray(i)||a){a&&(i=i[\"@list\"]);for(var s=0;s<i.length;++s)if(jsonld.compareValues(r,i[s])){n=!0;break}}else _isArray(r)||(n=jsonld.compareValues(r,i))}return n},jsonld.addValue=function(e,t,r,n){if(n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1),\"allowDuplicate\"in n||(n.allowDuplicate=!0),_isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(var i=0;i<r.length;++i)jsonld.addValue(e,t,r[i],n)}else if(t in e){var a=!n.allowDuplicate&&jsonld.hasValue(e,t,r);_isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jsonld.getValues=function(e,t){var r=e[t]||[];return _isArray(r)||(r=[r]),r},jsonld.removeProperty=function(e,t){delete e[t]},jsonld.removeValue=function(e,t,r,n){n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1);var i=jsonld.getValues(e,t).filter(function(e){return!jsonld.compareValues(e,r)});0===i.length?jsonld.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jsonld.compareValues=function(e,t){return e===t?!0:_isValue(e)&&_isValue(t)&&e[\"@value\"]===t[\"@value\"]&&e[\"@type\"]===t[\"@type\"]&&e[\"@language\"]===t[\"@language\"]&&e[\"@index\"]===t[\"@index\"]?!0:_isObject(e)&&\"@id\"in e&&_isObject(t)&&\"@id\"in t?e[\"@id\"]===t[\"@id\"]:!1},jsonld.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if(\"@language\"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];_isUndefined(r)?n=i:r in i&&(n=i[r])}return n},_nodejs){if(\"undefined\"==typeof XMLSerializer)var XMLSerializer=null;if(\"undefined\"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN=\"http://www.w3.org/2001/XMLSchema#boolean\",XSD_DOUBLE=\"http://www.w3.org/2001/XMLSchema#double\",XSD_INTEGER=\"http://www.w3.org/2001/XMLSchema#integer\",XSD_STRING=\"http://www.w3.org/2001/XMLSchema#string\",RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",RDF_LIST=RDF+\"List\",RDF_FIRST=RDF+\"first\",RDF_REST=RDF+\"rest\",RDF_NIL=RDF+\"nil\",RDF_TYPE=RDF+\"type\",RDF_PLAIN_LITERAL=RDF+\"PlainLiteral\",RDF_XML_LITERAL=RDF+\"XMLLiteral\",RDF_OBJECT=RDF+\"object\",RDF_LANGSTRING=RDF+\"langString\",LINK_HEADER_REL=\"http://www.w3.org/ns/json-ld#context\",MAX_CONTEXT_URLS=10,JsonLdError=function(e,t,r){_nodejs&&(Error.call(this),Error.captureStackTrace(this,this.constructor)),this.name=t||\"jsonld.Error\",this.message=e||\"An unspecified JSON-LD error occurred.\",this.details=r||{}};_nodejs&&require(\"util\").inherits(JsonLdError,Error);var Processor=function(){};Processor.prototype.toRDF=function(e,t){var r=new IdentifierIssuer(\"_:b\"),n={\"@default\":{}};_createNodeMap(e,n,\"@default\",r);for(var i={},a=Object.keys(n).sort(),s=0;s<a.length;++s){var o=a[s];(\"@default\"===o||_isAbsoluteIri(o))&&(i[o]=_graphToRDF(n[o],r,t))}return i},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError(\"Object.keys called on non-object\");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var e=new IdentifierIssuer(this.prefix);return e.counter=this.counter,e.existing=_clone(this.existing),e},IdentifierIssuer.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(e){return e in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;n>i;++i){var a=this.list[i],s=this.left[a];(null===t||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&n-1>i&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o],this.list[o]=t;for(var i=0;n>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e},jsonld.url={},jsonld.url.parsers={simple:{keys:[\"href\",\"scheme\",\"authority\",\"path\",\"query\",\"fragment\"],regex:/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/},full:{keys:[\"href\",\"protocol\",\"scheme\",\"authority\",\"auth\",\"user\",\"password\",\"hostname\",\"port\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],regex:/^(([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?(?:(((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(e,t){for(var r={},n=jsonld.url.parsers[t||\"full\"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return r.normalizedPath=_removeDotSegments(r.path,!!r.authority),r};\n    var cb = function(err, dataset) {\n        if(err) {\n          return;\n        }\n      for (var i in dataset){\n        var graph = dataset[i];\n        for (var j in graph){\n          var statement = graph[j];\n          emit(statement.object.value, statement);\n        }\n      }\n  };\n  \n  var rdf = jsonld.toRDF(doc,cb);\n}",
                "reduce": "function (key, vals){\n  var out = [];\n  for (var i in vals)\n  {\n   out.push(vals[i]); \n  }\n  return out;\n}"
            },
            "jsonld-predicate": {
                "map": "function (doc, meta) {\n    if(/.vocabulary./.test(meta.id)) return;\n \tfunction _labelBlankNodes(e,t){if(_isArray(t))for(var r=0;r<t.length;++r)t[r]=_labelBlankNodes(e,t[r]);else if(_isList(t))t[\"@list\"]=_labelBlankNodes(e,t[\"@list\"]);else if(_isObject(t)){_isBlankNode(t)&&(t[\"@id\"]=e.getId(t[\"@id\"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];\"@id\"!==a&&(t[a]=_labelBlankNodes(e,t[a]))}}return t}function _graphToRDF(e,t,r){for(var n=[],i=Object.keys(e).sort(),a=0;a<i.length;++a)for(var s=i[a],o=e[s],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=l[u],p=o[c];if(\"@type\"===c)c=RDF_TYPE;else if(_isKeyword(c))continue;for(var d=0;d<p.length;++d){var f=p[d],h={};if(h.type=0===s.indexOf(\"_:\")?\"blank node\":\"IRI\",h.value=s,_isAbsoluteIri(s)){var y={};if(y.type=0===c.indexOf(\"_:\")?\"blank node\":\"IRI\",y.value=c,_isAbsoluteIri(c)&&(\"blank node\"!==y.type||r.produceGeneralizedRdf))if(_isList(f))_listToRDF(f[\"@list\"],t,h,y,n);else{var g=_objectToRDF(f);g&&n.push({subject:h,predicate:y,object:g})}}}}return n}function _listToRDF(e,t,r,n,i){for(var a={type:\"IRI\",value:RDF_FIRST},s={type:\"IRI\",value:RDF_REST},o={type:\"IRI\",value:RDF_NIL},l=0;l<e.length;++l){var u=e[l],c={type:\"blank node\",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=a;var p=_objectToRDF(u);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:o})}function _objectToRDF(e){var t={};if(_isValue(e)){t.type=\"literal\";var r=e[\"@value\"],n=e[\"@type\"]||null;_isBoolean(r)?(t.value=r.toString(),t.datatype=n||XSD_BOOLEAN):_isDouble(r)||n===XSD_DOUBLE?(_isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\\d)0*e\\+?/,\"$1E\"),t.datatype=n||XSD_DOUBLE):_isNumber(r)?(t.value=r.toFixed(0),t.datatype=n||XSD_INTEGER):\"@language\"in e?(t.value=r,t.datatype=n||RDF_LANGSTRING,t.language=e[\"@language\"]):(t.value=r,t.datatype=n||XSD_STRING)}else{var i=_isObject(e)?e[\"@id\"]:e;t.type=0===i.indexOf(\"_:\")?\"blank node\":\"IRI\",t.value=i}return\"IRI\"!==t.type||_isAbsoluteIri(t.value)?t:null}function _compareRDFTriples(e,t){for(var r=[\"subject\",\"predicate\",\"object\"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function _createNodeMap(e,t,r,n,i,a){if(_isArray(e))for(var s=0;s<e.length;++s)_createNodeMap(e[s],t,r,n,void 0,a);else{if(!_isObject(e))return void(a&&a.push(e));if(_isValue(e)){if(\"@type\"in e){var o=e[\"@type\"];0===o.indexOf(\"_:\")&&(e[\"@type\"]=o=n.getId(o))}return void(a&&a.push(e))}if(\"@type\"in e)for(var l=e[\"@type\"],s=0;s<l.length;++s){var o=l[s];0===o.indexOf(\"_:\")&&n.getId(o)}_isUndefined(i)&&(i=_isBlankNode(e)?n.getId(e[\"@id\"]):e[\"@id\"]),a&&a.push({\"@id\":i});var u=t[r],c=u[i]=u[i]||{};c[\"@id\"]=i;for(var p=Object.keys(e).sort(),d=0;d<p.length;++d){var f=p[d];if(\"@id\"!==f)if(\"@reverse\"!==f)if(\"@graph\"!==f)if(\"@type\"!==f&&_isKeyword(f)){if(\"@index\"===f&&f in c&&(e[f]!==c[f]||e[f][\"@id\"]!==c[f][\"@id\"]))throw new JsonLdError(\"Invalid JSON-LD syntax; conflicting @index property detected.\",\"jsonld.SyntaxError\",{code:\"conflicting indexes\",subject:c});c[f]=e[f]}else{var h=e[f];if(0===f.indexOf(\"_:\")&&(f=n.getId(f)),0!==h.length)for(var y=0;y<h.length;++y){var g=h[y];if(\"@type\"===f&&(g=0===g.indexOf(\"_:\")?n.getId(g):g),_isSubject(g)||_isSubjectReference(g)){var v=_isBlankNode(g)?n.getId(g[\"@id\"]):g[\"@id\"];jsonld.addValue(c,f,{\"@id\":v},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(g,t,r,n,v)}else if(_isList(g)){var _=[];_createNodeMap(g[\"@list\"],t,r,n,i,_),g={\"@list\":_},jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(g,t,r,n,i),jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(c,f,[],{propertyIsArray:!0})}else{i in t||(t[i]={});var j=\"@merged\"===r?r:i;_createNodeMap(e[f],t,j,n)}else{var b={\"@id\":i},I=e[\"@reverse\"];for(var N in I)for(var O=I[N],D=0;D<O.length;++D){var R=O[D],m=R[\"@id\"];_isBlankNode(R)&&(m=n.getId(m)),_createNodeMap(R,t,r,n,m),jsonld.addValue(u[m],N,b,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(e){for(var t=e[\"@default\"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if(\"@default\"!==i){var a=e[i],s=t[i];s?\"@graph\"in s||(s[\"@graph\"]=[]):t[i]=s={\"@id\":i,\"@graph\":[]};for(var o=s[\"@graph\"],l=Object.keys(a).sort(),u=0;u<l.length;++u){var c=a[l[u]];_isSubjectReference(c)||o.push(c)}}}return t}function _compareShortestLeast(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function _prependBase(e,t){if(null===e)return t;if(-1!==t.indexOf(\":\"))return t;_isString(e)&&(e=jsonld.url.parse(e||\"\"));var r=jsonld.url.parse(t),n={protocol:e.protocol||\"\"};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,\"\"===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf(\"/\"))n.path=r.path;else{var i=e.path;\"\"!==r.path&&(i=i.substr(0,i.lastIndexOf(\"/\")+1),i.length>0&&\"/\"!==i.substr(-1)&&(i+=\"/\"),i+=r.path),n.path=i}n.query=r.query}n.path=_removeDotSegments(n.path,!!n.authority);var a=n.protocol;return null!==n.authority&&(a+=\"//\"+n.authority),a+=n.path,null!==n.query&&(a+=\"?\"+n.query),null!==r.fragment&&(a+=\"#\"+r.fragment),\"\"===a&&(a=\"./\"),a}function _getInitialContext(e){function t(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e[\"@language\"]||\"@none\",i=e.mappings,a=Object.keys(i).sort(_compareShortestLeast),s=0;s<a.length;++s){var o=a[s],l=i[o];if(null!==l){var u=l[\"@container\"]||\"@none\",c=l[\"@id\"];_isArray(c)||(c=[c]);for(var p=0;p<c.length;++p){var d=c[p],f=t[d];if(f||(t[d]=f={}),f[u]||(f[u]={\"@language\":{},\"@type\":{}}),f=f[u],l.reverse)r(l,o,f[\"@type\"],\"@reverse\");else if(\"@type\"in l)r(l,o,f[\"@type\"],l[\"@type\"]);else if(\"@language\"in l){var h=l[\"@language\"]||\"@null\";r(l,o,f[\"@language\"],h)}else r(l,o,f[\"@language\"],n),r(l,o,f[\"@type\"],\"@none\"),r(l,o,f[\"@language\"],\"@none\")}}}return t}function r(e,t,r,n){n in r||(r[n]=t)}function n(){var e={};return e[\"@base\"]=this[\"@base\"],e.mappings=_clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,\"@language\"in this&&(e[\"@language\"]=this[\"@language\"]),\"@vocab\"in this&&(e[\"@vocab\"]=this[\"@vocab\"]),e}var i=jsonld.url.parse(e.base||\"\");return{\"@base\":i,mappings:{},inverse:null,getInverse:t,clone:n}}function _isKeyword(e){if(!_isString(e))return!1;switch(e){case\"@base\":case\"@context\":case\"@container\":case\"@default\":case\"@embed\":case\"@explicit\":case\"@graph\":case\"@id\":case\"@index\":case\"@language\":case\"@list\":case\"@omitDefault\":case\"@preserve\":case\"@requireAll\":case\"@reverse\":case\"@set\":case\"@type\":case\"@value\":case\"@vocab\":return!0}return!1}function _isObject(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function _isEmptyObject(e){return _isObject(e)&&0===Object.keys(e).length}function _isArray(e){return Array.isArray(e)}function _validateTypeValue(e){if(!_isString(e)&&!_isEmptyObject(e)){var t=!1;if(_isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!_isString(e[r])){t=!1;break}}if(!t)throw new JsonLdError('Invalid JSON-LD syntax; \"@type\" value must a string, an array of strings, or an empty object.',\"jsonld.SyntaxError\",{code:\"invalid type value\",value:e})}}function _isString(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)}function _isNumber(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function _isDouble(e){return _isNumber(e)&&-1!==String(e).indexOf(\".\")}function _isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _isBoolean(e){return\"boolean\"==typeof e||\"[object Boolean]\"===Object.prototype.toString.call(e)}function _isUndefined(e){return\"undefined\"==typeof e}function _isSubject(e){var t=!1;if(_isObject(e)&&!(\"@value\"in e||\"@set\"in e||\"@list\"in e)){var r=Object.keys(e).length;t=r>1||!(\"@id\"in e)}return t}function _isSubjectReference(e){return _isObject(e)&&1===Object.keys(e).length&&\"@id\"in e}function _isValue(e){return _isObject(e)&&\"@value\"in e}function _isList(e){return _isObject(e)&&\"@list\"in e}function _isBlankNode(e){var t=!1;return _isObject(e)&&(t=\"@id\"in e?0===e[\"@id\"].indexOf(\"_:\"):0===Object.keys(e).length||!(\"@value\"in e||\"@set\"in e||\"@list\"in e)),t}function _isAbsoluteIri(e){return _isString(e)&&-1!==e.indexOf(\":\")}function _clone(e){if(e&&\"object\"==typeof e){var t;if(_isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=_clone(e[r])}else if(_isObject(e)){t={};for(var n in e)t[n]=_clone(e[n])}else t=e.toString();return t}return e}function _toNQuads(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var a=n[i];\"@default\"===r&&(r=null),t.push(_toNQuad(a,r))}return t.sort().join(\"\")}function _toNQuad(e,t){var r=e.subject,n=e.predicate,i=e.object,a=t||null;\"name\"in e&&e.name&&(a=e.name.value);var s=\"\";if(s+=\"IRI\"===r.type?\"<\"+r.value+\">\":r.value,s+=\" \",s+=\"IRI\"===n.type?\"<\"+n.value+\">\":n.value,s+=\" \",\"IRI\"===i.type)s+=\"<\"+i.value+\">\";else if(\"blank node\"===i.type)s+=i.value;else{var o=i.value.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\\"/g,'\\\\\"');s+='\"'+o+'\"',i.datatype===RDF_LANGSTRING?i.language&&(s+=\"@\"+i.language):i.datatype!==XSD_STRING&&(s+=\"^^<\"+i.datatype+\">\")}return null!==a&&void 0!==a&&(s+=0!==a.indexOf(\"_:\")?\" <\"+a+\">\":\" \"+a),s+=\" .\\n\"}function IdentifierIssuer(e){this.prefix=e,this.counter=0,this.existing={}}function _removeDotSegments(e,t){var r=\"\";0===e.indexOf(\"/\")&&(r=\"/\");for(var n=e.split(\"/\"),i=[];n.length>0;)\".\"===n[0]||\"\"===n[0]&&n.length>1?n.shift():\"..\"!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&\"..\"!==i[i.length-1]?i.pop():i.push(\"..\"));return r+i.join(\"/\")}var jsonld={},_nodejs=\"undefined\"!=typeof module;if(jsonld.toRDF=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),t=t||{},\"base\"in t||(t.base=\"string\"==typeof e?e:\"\");var n;try{if(n=Processor.prototype.toRDF(e,t),t.format){if(\"application/nquads\"===t.format)return r(null,_toNQuads(n));throw new JsonLdError(\"Unknown output format.\",\"jsonld.UnknownFormat\",{format:t.format})}}catch(i){return r(i)}r(null,n)},jsonld.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||t.issuer||new IdentifierIssuer(\"_:b\");return _labelBlankNodes(r,e)},jsonld.prependBase=function(e,t){return _prependBase(e,t)},jsonld.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},jsonld.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},jsonld.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a}),i in this.cache||(this.cache[i]={}),this.cache[i][a]=_clone(r)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!_isArray(n)||n.length>0}return r},jsonld.hasValue=function(e,t,r){var n=!1;if(jsonld.hasProperty(e,t)){var i=e[t],a=_isList(i);if(_isArray(i)||a){a&&(i=i[\"@list\"]);for(var s=0;s<i.length;++s)if(jsonld.compareValues(r,i[s])){n=!0;break}}else _isArray(r)||(n=jsonld.compareValues(r,i))}return n},jsonld.addValue=function(e,t,r,n){if(n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1),\"allowDuplicate\"in n||(n.allowDuplicate=!0),_isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(var i=0;i<r.length;++i)jsonld.addValue(e,t,r[i],n)}else if(t in e){var a=!n.allowDuplicate&&jsonld.hasValue(e,t,r);_isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jsonld.getValues=function(e,t){var r=e[t]||[];return _isArray(r)||(r=[r]),r},jsonld.removeProperty=function(e,t){delete e[t]},jsonld.removeValue=function(e,t,r,n){n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1);var i=jsonld.getValues(e,t).filter(function(e){return!jsonld.compareValues(e,r)});0===i.length?jsonld.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jsonld.compareValues=function(e,t){return e===t?!0:_isValue(e)&&_isValue(t)&&e[\"@value\"]===t[\"@value\"]&&e[\"@type\"]===t[\"@type\"]&&e[\"@language\"]===t[\"@language\"]&&e[\"@index\"]===t[\"@index\"]?!0:_isObject(e)&&\"@id\"in e&&_isObject(t)&&\"@id\"in t?e[\"@id\"]===t[\"@id\"]:!1},jsonld.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if(\"@language\"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];_isUndefined(r)?n=i:r in i&&(n=i[r])}return n},_nodejs){if(\"undefined\"==typeof XMLSerializer)var XMLSerializer=null;if(\"undefined\"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN=\"http://www.w3.org/2001/XMLSchema#boolean\",XSD_DOUBLE=\"http://www.w3.org/2001/XMLSchema#double\",XSD_INTEGER=\"http://www.w3.org/2001/XMLSchema#integer\",XSD_STRING=\"http://www.w3.org/2001/XMLSchema#string\",RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",RDF_LIST=RDF+\"List\",RDF_FIRST=RDF+\"first\",RDF_REST=RDF+\"rest\",RDF_NIL=RDF+\"nil\",RDF_TYPE=RDF+\"type\",RDF_PLAIN_LITERAL=RDF+\"PlainLiteral\",RDF_XML_LITERAL=RDF+\"XMLLiteral\",RDF_OBJECT=RDF+\"object\",RDF_LANGSTRING=RDF+\"langString\",LINK_HEADER_REL=\"http://www.w3.org/ns/json-ld#context\",MAX_CONTEXT_URLS=10,JsonLdError=function(e,t,r){_nodejs&&(Error.call(this),Error.captureStackTrace(this,this.constructor)),this.name=t||\"jsonld.Error\",this.message=e||\"An unspecified JSON-LD error occurred.\",this.details=r||{}};_nodejs&&require(\"util\").inherits(JsonLdError,Error);var Processor=function(){};Processor.prototype.toRDF=function(e,t){var r=new IdentifierIssuer(\"_:b\"),n={\"@default\":{}};_createNodeMap(e,n,\"@default\",r);for(var i={},a=Object.keys(n).sort(),s=0;s<a.length;++s){var o=a[s];(\"@default\"===o||_isAbsoluteIri(o))&&(i[o]=_graphToRDF(n[o],r,t))}return i},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError(\"Object.keys called on non-object\");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var e=new IdentifierIssuer(this.prefix);return e.counter=this.counter,e.existing=_clone(this.existing),e},IdentifierIssuer.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(e){return e in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;n>i;++i){var a=this.list[i],s=this.left[a];(null===t||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&n-1>i&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o],this.list[o]=t;for(var i=0;n>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e},jsonld.url={},jsonld.url.parsers={simple:{keys:[\"href\",\"scheme\",\"authority\",\"path\",\"query\",\"fragment\"],regex:/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/},full:{keys:[\"href\",\"protocol\",\"scheme\",\"authority\",\"auth\",\"user\",\"password\",\"hostname\",\"port\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],regex:/^(([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?(?:(((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(e,t){for(var r={},n=jsonld.url.parsers[t||\"full\"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return r.normalizedPath=_removeDotSegments(r.path,!!r.authority),r};\n    var cb = function(err, dataset) {\n        if(err) {\n          return;\n        }\n      for (var i in dataset){\n        var graph = dataset[i];\n        for (var j in graph){\n          var statement = graph[j];\n          emit(statement.predicate.value, statement);\n        }\n      }\n  };\n  \n  var rdf = jsonld.toRDF(doc,cb);\n}",
                "reduce": "function (key, vals){\n  var out = [];\n  for (var i in vals)\n  {\n   out.push(vals[i]); \n  }\n  return out;\n}"
            }
        }
    },
    "rdf": {
        "views": {
            "subject": {
                "map": "function (doc, meta) {\n  if(/.vocabulary./.test(meta.id)) return;\n  //if(/_:/.test(meta.id) || /#_/.test(meta.id)) return;\n   emit(doc[\"@id\"], null);\n}"
            },
            "predicate": {
                "map": "function (doc, meta) {\n  if(/.vocabulary./.test(meta.id)) return;\n  //if(/_:/.test(meta.id) || /#_/.test(meta.id)) return;\n  for(var i in doc){\n    if (Array.isArray(doc[i]))\n      for(var j in doc[i]){\n        emit(i, null);\n      }\n  }\n}"
            },
            "object": {
                "map": "function (doc, meta) {\n  if(/.vocabulary./.test(meta.id)) return;\n  //if(/_:/.test(meta.id) || /#_/.test(meta.id)) return;\n  for(var i in doc){\n    if (Array.isArray(doc[i]))\n      for(var j in doc[i]){\n        if(i == \"@type\") emit(doc[i][j], null);\n        if(doc[i][j][\"@id\"]) emit(doc[i][j][\"@id\"], null);\n      }\n  }\n}"
            },
            "jsonld-subject": {
                "map": "function (doc, meta) {\n    if(/.vocabulary./.test(meta.id)) return;\n \tfunction _labelBlankNodes(e,t){if(_isArray(t))for(var r=0;r<t.length;++r)t[r]=_labelBlankNodes(e,t[r]);else if(_isList(t))t[\"@list\"]=_labelBlankNodes(e,t[\"@list\"]);else if(_isObject(t)){_isBlankNode(t)&&(t[\"@id\"]=e.getId(t[\"@id\"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];\"@id\"!==a&&(t[a]=_labelBlankNodes(e,t[a]))}}return t}function _graphToRDF(e,t,r){for(var n=[],i=Object.keys(e).sort(),a=0;a<i.length;++a)for(var s=i[a],o=e[s],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=l[u],p=o[c];if(\"@type\"===c)c=RDF_TYPE;else if(_isKeyword(c))continue;for(var d=0;d<p.length;++d){var f=p[d],h={};if(h.type=0===s.indexOf(\"_:\")?\"blank node\":\"IRI\",h.value=s,_isAbsoluteIri(s)){var y={};if(y.type=0===c.indexOf(\"_:\")?\"blank node\":\"IRI\",y.value=c,_isAbsoluteIri(c)&&(\"blank node\"!==y.type||r.produceGeneralizedRdf))if(_isList(f))_listToRDF(f[\"@list\"],t,h,y,n);else{var g=_objectToRDF(f);g&&n.push({subject:h,predicate:y,object:g})}}}}return n}function _listToRDF(e,t,r,n,i){for(var a={type:\"IRI\",value:RDF_FIRST},s={type:\"IRI\",value:RDF_REST},o={type:\"IRI\",value:RDF_NIL},l=0;l<e.length;++l){var u=e[l],c={type:\"blank node\",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=a;var p=_objectToRDF(u);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:o})}function _objectToRDF(e){var t={};if(_isValue(e)){t.type=\"literal\";var r=e[\"@value\"],n=e[\"@type\"]||null;_isBoolean(r)?(t.value=r.toString(),t.datatype=n||XSD_BOOLEAN):_isDouble(r)||n===XSD_DOUBLE?(_isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\\d)0*e\\+?/,\"$1E\"),t.datatype=n||XSD_DOUBLE):_isNumber(r)?(t.value=r.toFixed(0),t.datatype=n||XSD_INTEGER):\"@language\"in e?(t.value=r,t.datatype=n||RDF_LANGSTRING,t.language=e[\"@language\"]):(t.value=r,t.datatype=n||XSD_STRING)}else{var i=_isObject(e)?e[\"@id\"]:e;t.type=0===i.indexOf(\"_:\")?\"blank node\":\"IRI\",t.value=i}return\"IRI\"!==t.type||_isAbsoluteIri(t.value)?t:null}function _compareRDFTriples(e,t){for(var r=[\"subject\",\"predicate\",\"object\"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function _createNodeMap(e,t,r,n,i,a){if(_isArray(e))for(var s=0;s<e.length;++s)_createNodeMap(e[s],t,r,n,void 0,a);else{if(!_isObject(e))return void(a&&a.push(e));if(_isValue(e)){if(\"@type\"in e){var o=e[\"@type\"];0===o.indexOf(\"_:\")&&(e[\"@type\"]=o=n.getId(o))}return void(a&&a.push(e))}if(\"@type\"in e)for(var l=e[\"@type\"],s=0;s<l.length;++s){var o=l[s];0===o.indexOf(\"_:\")&&n.getId(o)}_isUndefined(i)&&(i=_isBlankNode(e)?n.getId(e[\"@id\"]):e[\"@id\"]),a&&a.push({\"@id\":i});var u=t[r],c=u[i]=u[i]||{};c[\"@id\"]=i;for(var p=Object.keys(e).sort(),d=0;d<p.length;++d){var f=p[d];if(\"@id\"!==f)if(\"@reverse\"!==f)if(\"@graph\"!==f)if(\"@type\"!==f&&_isKeyword(f)){if(\"@index\"===f&&f in c&&(e[f]!==c[f]||e[f][\"@id\"]!==c[f][\"@id\"]))throw new JsonLdError(\"Invalid JSON-LD syntax; conflicting @index property detected.\",\"jsonld.SyntaxError\",{code:\"conflicting indexes\",subject:c});c[f]=e[f]}else{var h=e[f];if(0===f.indexOf(\"_:\")&&(f=n.getId(f)),0!==h.length)for(var y=0;y<h.length;++y){var g=h[y];if(\"@type\"===f&&(g=0===g.indexOf(\"_:\")?n.getId(g):g),_isSubject(g)||_isSubjectReference(g)){var v=_isBlankNode(g)?n.getId(g[\"@id\"]):g[\"@id\"];jsonld.addValue(c,f,{\"@id\":v},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(g,t,r,n,v)}else if(_isList(g)){var _=[];_createNodeMap(g[\"@list\"],t,r,n,i,_),g={\"@list\":_},jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(g,t,r,n,i),jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(c,f,[],{propertyIsArray:!0})}else{i in t||(t[i]={});var j=\"@merged\"===r?r:i;_createNodeMap(e[f],t,j,n)}else{var b={\"@id\":i},I=e[\"@reverse\"];for(var N in I)for(var O=I[N],D=0;D<O.length;++D){var R=O[D],m=R[\"@id\"];_isBlankNode(R)&&(m=n.getId(m)),_createNodeMap(R,t,r,n,m),jsonld.addValue(u[m],N,b,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(e){for(var t=e[\"@default\"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if(\"@default\"!==i){var a=e[i],s=t[i];s?\"@graph\"in s||(s[\"@graph\"]=[]):t[i]=s={\"@id\":i,\"@graph\":[]};for(var o=s[\"@graph\"],l=Object.keys(a).sort(),u=0;u<l.length;++u){var c=a[l[u]];_isSubjectReference(c)||o.push(c)}}}return t}function _compareShortestLeast(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function _prependBase(e,t){if(null===e)return t;if(-1!==t.indexOf(\":\"))return t;_isString(e)&&(e=jsonld.url.parse(e||\"\"));var r=jsonld.url.parse(t),n={protocol:e.protocol||\"\"};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,\"\"===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf(\"/\"))n.path=r.path;else{var i=e.path;\"\"!==r.path&&(i=i.substr(0,i.lastIndexOf(\"/\")+1),i.length>0&&\"/\"!==i.substr(-1)&&(i+=\"/\"),i+=r.path),n.path=i}n.query=r.query}n.path=_removeDotSegments(n.path,!!n.authority);var a=n.protocol;return null!==n.authority&&(a+=\"//\"+n.authority),a+=n.path,null!==n.query&&(a+=\"?\"+n.query),null!==r.fragment&&(a+=\"#\"+r.fragment),\"\"===a&&(a=\"./\"),a}function _getInitialContext(e){function t(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e[\"@language\"]||\"@none\",i=e.mappings,a=Object.keys(i).sort(_compareShortestLeast),s=0;s<a.length;++s){var o=a[s],l=i[o];if(null!==l){var u=l[\"@container\"]||\"@none\",c=l[\"@id\"];_isArray(c)||(c=[c]);for(var p=0;p<c.length;++p){var d=c[p],f=t[d];if(f||(t[d]=f={}),f[u]||(f[u]={\"@language\":{},\"@type\":{}}),f=f[u],l.reverse)r(l,o,f[\"@type\"],\"@reverse\");else if(\"@type\"in l)r(l,o,f[\"@type\"],l[\"@type\"]);else if(\"@language\"in l){var h=l[\"@language\"]||\"@null\";r(l,o,f[\"@language\"],h)}else r(l,o,f[\"@language\"],n),r(l,o,f[\"@type\"],\"@none\"),r(l,o,f[\"@language\"],\"@none\")}}}return t}function r(e,t,r,n){n in r||(r[n]=t)}function n(){var e={};return e[\"@base\"]=this[\"@base\"],e.mappings=_clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,\"@language\"in this&&(e[\"@language\"]=this[\"@language\"]),\"@vocab\"in this&&(e[\"@vocab\"]=this[\"@vocab\"]),e}var i=jsonld.url.parse(e.base||\"\");return{\"@base\":i,mappings:{},inverse:null,getInverse:t,clone:n}}function _isKeyword(e){if(!_isString(e))return!1;switch(e){case\"@base\":case\"@context\":case\"@container\":case\"@default\":case\"@embed\":case\"@explicit\":case\"@graph\":case\"@id\":case\"@index\":case\"@language\":case\"@list\":case\"@omitDefault\":case\"@preserve\":case\"@requireAll\":case\"@reverse\":case\"@set\":case\"@type\":case\"@value\":case\"@vocab\":return!0}return!1}function _isObject(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function _isEmptyObject(e){return _isObject(e)&&0===Object.keys(e).length}function _isArray(e){return Array.isArray(e)}function _validateTypeValue(e){if(!_isString(e)&&!_isEmptyObject(e)){var t=!1;if(_isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!_isString(e[r])){t=!1;break}}if(!t)throw new JsonLdError('Invalid JSON-LD syntax; \"@type\" value must a string, an array of strings, or an empty object.',\"jsonld.SyntaxError\",{code:\"invalid type value\",value:e})}}function _isString(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)}function _isNumber(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function _isDouble(e){return _isNumber(e)&&-1!==String(e).indexOf(\".\")}function _isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _isBoolean(e){return\"boolean\"==typeof e||\"[object Boolean]\"===Object.prototype.toString.call(e)}function _isUndefined(e){return\"undefined\"==typeof e}function _isSubject(e){var t=!1;if(_isObject(e)&&!(\"@value\"in e||\"@set\"in e||\"@list\"in e)){var r=Object.keys(e).length;t=r>1||!(\"@id\"in e)}return t}function _isSubjectReference(e){return _isObject(e)&&1===Object.keys(e).length&&\"@id\"in e}function _isValue(e){return _isObject(e)&&\"@value\"in e}function _isList(e){return _isObject(e)&&\"@list\"in e}function _isBlankNode(e){var t=!1;return _isObject(e)&&(t=\"@id\"in e?0===e[\"@id\"].indexOf(\"_:\"):0===Object.keys(e).length||!(\"@value\"in e||\"@set\"in e||\"@list\"in e)),t}function _isAbsoluteIri(e){return _isString(e)&&-1!==e.indexOf(\":\")}function _clone(e){if(e&&\"object\"==typeof e){var t;if(_isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=_clone(e[r])}else if(_isObject(e)){t={};for(var n in e)t[n]=_clone(e[n])}else t=e.toString();return t}return e}function _toNQuads(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var a=n[i];\"@default\"===r&&(r=null),t.push(_toNQuad(a,r))}return t.sort().join(\"\")}function _toNQuad(e,t){var r=e.subject,n=e.predicate,i=e.object,a=t||null;\"name\"in e&&e.name&&(a=e.name.value);var s=\"\";if(s+=\"IRI\"===r.type?\"<\"+r.value+\">\":r.value,s+=\" \",s+=\"IRI\"===n.type?\"<\"+n.value+\">\":n.value,s+=\" \",\"IRI\"===i.type)s+=\"<\"+i.value+\">\";else if(\"blank node\"===i.type)s+=i.value;else{var o=i.value.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\\"/g,'\\\\\"');s+='\"'+o+'\"',i.datatype===RDF_LANGSTRING?i.language&&(s+=\"@\"+i.language):i.datatype!==XSD_STRING&&(s+=\"^^<\"+i.datatype+\">\")}return null!==a&&void 0!==a&&(s+=0!==a.indexOf(\"_:\")?\" <\"+a+\">\":\" \"+a),s+=\" .\\n\"}function IdentifierIssuer(e){this.prefix=e,this.counter=0,this.existing={}}function _removeDotSegments(e,t){var r=\"\";0===e.indexOf(\"/\")&&(r=\"/\");for(var n=e.split(\"/\"),i=[];n.length>0;)\".\"===n[0]||\"\"===n[0]&&n.length>1?n.shift():\"..\"!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&\"..\"!==i[i.length-1]?i.pop():i.push(\"..\"));return r+i.join(\"/\")}var jsonld={},_nodejs=\"undefined\"!=typeof module;if(jsonld.toRDF=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),t=t||{},\"base\"in t||(t.base=\"string\"==typeof e?e:\"\");var n;try{if(n=Processor.prototype.toRDF(e,t),t.format){if(\"application/nquads\"===t.format)return r(null,_toNQuads(n));throw new JsonLdError(\"Unknown output format.\",\"jsonld.UnknownFormat\",{format:t.format})}}catch(i){return r(i)}r(null,n)},jsonld.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||t.issuer||new IdentifierIssuer(\"_:b\");return _labelBlankNodes(r,e)},jsonld.prependBase=function(e,t){return _prependBase(e,t)},jsonld.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},jsonld.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},jsonld.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a}),i in this.cache||(this.cache[i]={}),this.cache[i][a]=_clone(r)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!_isArray(n)||n.length>0}return r},jsonld.hasValue=function(e,t,r){var n=!1;if(jsonld.hasProperty(e,t)){var i=e[t],a=_isList(i);if(_isArray(i)||a){a&&(i=i[\"@list\"]);for(var s=0;s<i.length;++s)if(jsonld.compareValues(r,i[s])){n=!0;break}}else _isArray(r)||(n=jsonld.compareValues(r,i))}return n},jsonld.addValue=function(e,t,r,n){if(n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1),\"allowDuplicate\"in n||(n.allowDuplicate=!0),_isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(var i=0;i<r.length;++i)jsonld.addValue(e,t,r[i],n)}else if(t in e){var a=!n.allowDuplicate&&jsonld.hasValue(e,t,r);_isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jsonld.getValues=function(e,t){var r=e[t]||[];return _isArray(r)||(r=[r]),r},jsonld.removeProperty=function(e,t){delete e[t]},jsonld.removeValue=function(e,t,r,n){n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1);var i=jsonld.getValues(e,t).filter(function(e){return!jsonld.compareValues(e,r)});0===i.length?jsonld.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jsonld.compareValues=function(e,t){return e===t?!0:_isValue(e)&&_isValue(t)&&e[\"@value\"]===t[\"@value\"]&&e[\"@type\"]===t[\"@type\"]&&e[\"@language\"]===t[\"@language\"]&&e[\"@index\"]===t[\"@index\"]?!0:_isObject(e)&&\"@id\"in e&&_isObject(t)&&\"@id\"in t?e[\"@id\"]===t[\"@id\"]:!1},jsonld.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if(\"@language\"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];_isUndefined(r)?n=i:r in i&&(n=i[r])}return n},_nodejs){if(\"undefined\"==typeof XMLSerializer)var XMLSerializer=null;if(\"undefined\"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN=\"http://www.w3.org/2001/XMLSchema#boolean\",XSD_DOUBLE=\"http://www.w3.org/2001/XMLSchema#double\",XSD_INTEGER=\"http://www.w3.org/2001/XMLSchema#integer\",XSD_STRING=\"http://www.w3.org/2001/XMLSchema#string\",RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",RDF_LIST=RDF+\"List\",RDF_FIRST=RDF+\"first\",RDF_REST=RDF+\"rest\",RDF_NIL=RDF+\"nil\",RDF_TYPE=RDF+\"type\",RDF_PLAIN_LITERAL=RDF+\"PlainLiteral\",RDF_XML_LITERAL=RDF+\"XMLLiteral\",RDF_OBJECT=RDF+\"object\",RDF_LANGSTRING=RDF+\"langString\",LINK_HEADER_REL=\"http://www.w3.org/ns/json-ld#context\",MAX_CONTEXT_URLS=10,JsonLdError=function(e,t,r){_nodejs&&(Error.call(this),Error.captureStackTrace(this,this.constructor)),this.name=t||\"jsonld.Error\",this.message=e||\"An unspecified JSON-LD error occurred.\",this.details=r||{}};_nodejs&&require(\"util\").inherits(JsonLdError,Error);var Processor=function(){};Processor.prototype.toRDF=function(e,t){var r=new IdentifierIssuer(\"_:b\"),n={\"@default\":{}};_createNodeMap(e,n,\"@default\",r);for(var i={},a=Object.keys(n).sort(),s=0;s<a.length;++s){var o=a[s];(\"@default\"===o||_isAbsoluteIri(o))&&(i[o]=_graphToRDF(n[o],r,t))}return i},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError(\"Object.keys called on non-object\");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var e=new IdentifierIssuer(this.prefix);return e.counter=this.counter,e.existing=_clone(this.existing),e},IdentifierIssuer.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(e){return e in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;n>i;++i){var a=this.list[i],s=this.left[a];(null===t||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&n-1>i&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o],this.list[o]=t;for(var i=0;n>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e},jsonld.url={},jsonld.url.parsers={simple:{keys:[\"href\",\"scheme\",\"authority\",\"path\",\"query\",\"fragment\"],regex:/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/},full:{keys:[\"href\",\"protocol\",\"scheme\",\"authority\",\"auth\",\"user\",\"password\",\"hostname\",\"port\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],regex:/^(([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?(?:(((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(e,t){for(var r={},n=jsonld.url.parsers[t||\"full\"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return r.normalizedPath=_removeDotSegments(r.path,!!r.authority),r};\n    var cb = function(err, dataset) {\n        if(err) {\n          return;\n        }\n      for (var i in dataset){\n        var graph = dataset[i];\n        for (var j in graph){\n          var statement = graph[j];\n          emit(statement.subject.value, statement);\n        }\n      }\n  };\n  \n  var rdf = jsonld.toRDF(doc,cb);\n}",
                "reduce": "function (key, vals){\n  var out = [];\n  for (var i in vals)\n  {\n   out.push(vals[i]); \n  }\n  return out;\n}"
            },
            "jsonld-object": {
                "map": "function (doc, meta) {\n    if(/.vocabulary./.test(meta.id)) return;\n \tfunction _labelBlankNodes(e,t){if(_isArray(t))for(var r=0;r<t.length;++r)t[r]=_labelBlankNodes(e,t[r]);else if(_isList(t))t[\"@list\"]=_labelBlankNodes(e,t[\"@list\"]);else if(_isObject(t)){_isBlankNode(t)&&(t[\"@id\"]=e.getId(t[\"@id\"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];\"@id\"!==a&&(t[a]=_labelBlankNodes(e,t[a]))}}return t}function _graphToRDF(e,t,r){for(var n=[],i=Object.keys(e).sort(),a=0;a<i.length;++a)for(var s=i[a],o=e[s],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=l[u],p=o[c];if(\"@type\"===c)c=RDF_TYPE;else if(_isKeyword(c))continue;for(var d=0;d<p.length;++d){var f=p[d],h={};if(h.type=0===s.indexOf(\"_:\")?\"blank node\":\"IRI\",h.value=s,_isAbsoluteIri(s)){var y={};if(y.type=0===c.indexOf(\"_:\")?\"blank node\":\"IRI\",y.value=c,_isAbsoluteIri(c)&&(\"blank node\"!==y.type||r.produceGeneralizedRdf))if(_isList(f))_listToRDF(f[\"@list\"],t,h,y,n);else{var g=_objectToRDF(f);g&&n.push({subject:h,predicate:y,object:g})}}}}return n}function _listToRDF(e,t,r,n,i){for(var a={type:\"IRI\",value:RDF_FIRST},s={type:\"IRI\",value:RDF_REST},o={type:\"IRI\",value:RDF_NIL},l=0;l<e.length;++l){var u=e[l],c={type:\"blank node\",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=a;var p=_objectToRDF(u);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:o})}function _objectToRDF(e){var t={};if(_isValue(e)){t.type=\"literal\";var r=e[\"@value\"],n=e[\"@type\"]||null;_isBoolean(r)?(t.value=r.toString(),t.datatype=n||XSD_BOOLEAN):_isDouble(r)||n===XSD_DOUBLE?(_isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\\d)0*e\\+?/,\"$1E\"),t.datatype=n||XSD_DOUBLE):_isNumber(r)?(t.value=r.toFixed(0),t.datatype=n||XSD_INTEGER):\"@language\"in e?(t.value=r,t.datatype=n||RDF_LANGSTRING,t.language=e[\"@language\"]):(t.value=r,t.datatype=n||XSD_STRING)}else{var i=_isObject(e)?e[\"@id\"]:e;t.type=0===i.indexOf(\"_:\")?\"blank node\":\"IRI\",t.value=i}return\"IRI\"!==t.type||_isAbsoluteIri(t.value)?t:null}function _compareRDFTriples(e,t){for(var r=[\"subject\",\"predicate\",\"object\"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function _createNodeMap(e,t,r,n,i,a){if(_isArray(e))for(var s=0;s<e.length;++s)_createNodeMap(e[s],t,r,n,void 0,a);else{if(!_isObject(e))return void(a&&a.push(e));if(_isValue(e)){if(\"@type\"in e){var o=e[\"@type\"];0===o.indexOf(\"_:\")&&(e[\"@type\"]=o=n.getId(o))}return void(a&&a.push(e))}if(\"@type\"in e)for(var l=e[\"@type\"],s=0;s<l.length;++s){var o=l[s];0===o.indexOf(\"_:\")&&n.getId(o)}_isUndefined(i)&&(i=_isBlankNode(e)?n.getId(e[\"@id\"]):e[\"@id\"]),a&&a.push({\"@id\":i});var u=t[r],c=u[i]=u[i]||{};c[\"@id\"]=i;for(var p=Object.keys(e).sort(),d=0;d<p.length;++d){var f=p[d];if(\"@id\"!==f)if(\"@reverse\"!==f)if(\"@graph\"!==f)if(\"@type\"!==f&&_isKeyword(f)){if(\"@index\"===f&&f in c&&(e[f]!==c[f]||e[f][\"@id\"]!==c[f][\"@id\"]))throw new JsonLdError(\"Invalid JSON-LD syntax; conflicting @index property detected.\",\"jsonld.SyntaxError\",{code:\"conflicting indexes\",subject:c});c[f]=e[f]}else{var h=e[f];if(0===f.indexOf(\"_:\")&&(f=n.getId(f)),0!==h.length)for(var y=0;y<h.length;++y){var g=h[y];if(\"@type\"===f&&(g=0===g.indexOf(\"_:\")?n.getId(g):g),_isSubject(g)||_isSubjectReference(g)){var v=_isBlankNode(g)?n.getId(g[\"@id\"]):g[\"@id\"];jsonld.addValue(c,f,{\"@id\":v},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(g,t,r,n,v)}else if(_isList(g)){var _=[];_createNodeMap(g[\"@list\"],t,r,n,i,_),g={\"@list\":_},jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(g,t,r,n,i),jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(c,f,[],{propertyIsArray:!0})}else{i in t||(t[i]={});var j=\"@merged\"===r?r:i;_createNodeMap(e[f],t,j,n)}else{var b={\"@id\":i},I=e[\"@reverse\"];for(var N in I)for(var O=I[N],D=0;D<O.length;++D){var R=O[D],m=R[\"@id\"];_isBlankNode(R)&&(m=n.getId(m)),_createNodeMap(R,t,r,n,m),jsonld.addValue(u[m],N,b,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(e){for(var t=e[\"@default\"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if(\"@default\"!==i){var a=e[i],s=t[i];s?\"@graph\"in s||(s[\"@graph\"]=[]):t[i]=s={\"@id\":i,\"@graph\":[]};for(var o=s[\"@graph\"],l=Object.keys(a).sort(),u=0;u<l.length;++u){var c=a[l[u]];_isSubjectReference(c)||o.push(c)}}}return t}function _compareShortestLeast(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function _prependBase(e,t){if(null===e)return t;if(-1!==t.indexOf(\":\"))return t;_isString(e)&&(e=jsonld.url.parse(e||\"\"));var r=jsonld.url.parse(t),n={protocol:e.protocol||\"\"};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,\"\"===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf(\"/\"))n.path=r.path;else{var i=e.path;\"\"!==r.path&&(i=i.substr(0,i.lastIndexOf(\"/\")+1),i.length>0&&\"/\"!==i.substr(-1)&&(i+=\"/\"),i+=r.path),n.path=i}n.query=r.query}n.path=_removeDotSegments(n.path,!!n.authority);var a=n.protocol;return null!==n.authority&&(a+=\"//\"+n.authority),a+=n.path,null!==n.query&&(a+=\"?\"+n.query),null!==r.fragment&&(a+=\"#\"+r.fragment),\"\"===a&&(a=\"./\"),a}function _getInitialContext(e){function t(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e[\"@language\"]||\"@none\",i=e.mappings,a=Object.keys(i).sort(_compareShortestLeast),s=0;s<a.length;++s){var o=a[s],l=i[o];if(null!==l){var u=l[\"@container\"]||\"@none\",c=l[\"@id\"];_isArray(c)||(c=[c]);for(var p=0;p<c.length;++p){var d=c[p],f=t[d];if(f||(t[d]=f={}),f[u]||(f[u]={\"@language\":{},\"@type\":{}}),f=f[u],l.reverse)r(l,o,f[\"@type\"],\"@reverse\");else if(\"@type\"in l)r(l,o,f[\"@type\"],l[\"@type\"]);else if(\"@language\"in l){var h=l[\"@language\"]||\"@null\";r(l,o,f[\"@language\"],h)}else r(l,o,f[\"@language\"],n),r(l,o,f[\"@type\"],\"@none\"),r(l,o,f[\"@language\"],\"@none\")}}}return t}function r(e,t,r,n){n in r||(r[n]=t)}function n(){var e={};return e[\"@base\"]=this[\"@base\"],e.mappings=_clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,\"@language\"in this&&(e[\"@language\"]=this[\"@language\"]),\"@vocab\"in this&&(e[\"@vocab\"]=this[\"@vocab\"]),e}var i=jsonld.url.parse(e.base||\"\");return{\"@base\":i,mappings:{},inverse:null,getInverse:t,clone:n}}function _isKeyword(e){if(!_isString(e))return!1;switch(e){case\"@base\":case\"@context\":case\"@container\":case\"@default\":case\"@embed\":case\"@explicit\":case\"@graph\":case\"@id\":case\"@index\":case\"@language\":case\"@list\":case\"@omitDefault\":case\"@preserve\":case\"@requireAll\":case\"@reverse\":case\"@set\":case\"@type\":case\"@value\":case\"@vocab\":return!0}return!1}function _isObject(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function _isEmptyObject(e){return _isObject(e)&&0===Object.keys(e).length}function _isArray(e){return Array.isArray(e)}function _validateTypeValue(e){if(!_isString(e)&&!_isEmptyObject(e)){var t=!1;if(_isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!_isString(e[r])){t=!1;break}}if(!t)throw new JsonLdError('Invalid JSON-LD syntax; \"@type\" value must a string, an array of strings, or an empty object.',\"jsonld.SyntaxError\",{code:\"invalid type value\",value:e})}}function _isString(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)}function _isNumber(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function _isDouble(e){return _isNumber(e)&&-1!==String(e).indexOf(\".\")}function _isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _isBoolean(e){return\"boolean\"==typeof e||\"[object Boolean]\"===Object.prototype.toString.call(e)}function _isUndefined(e){return\"undefined\"==typeof e}function _isSubject(e){var t=!1;if(_isObject(e)&&!(\"@value\"in e||\"@set\"in e||\"@list\"in e)){var r=Object.keys(e).length;t=r>1||!(\"@id\"in e)}return t}function _isSubjectReference(e){return _isObject(e)&&1===Object.keys(e).length&&\"@id\"in e}function _isValue(e){return _isObject(e)&&\"@value\"in e}function _isList(e){return _isObject(e)&&\"@list\"in e}function _isBlankNode(e){var t=!1;return _isObject(e)&&(t=\"@id\"in e?0===e[\"@id\"].indexOf(\"_:\"):0===Object.keys(e).length||!(\"@value\"in e||\"@set\"in e||\"@list\"in e)),t}function _isAbsoluteIri(e){return _isString(e)&&-1!==e.indexOf(\":\")}function _clone(e){if(e&&\"object\"==typeof e){var t;if(_isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=_clone(e[r])}else if(_isObject(e)){t={};for(var n in e)t[n]=_clone(e[n])}else t=e.toString();return t}return e}function _toNQuads(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var a=n[i];\"@default\"===r&&(r=null),t.push(_toNQuad(a,r))}return t.sort().join(\"\")}function _toNQuad(e,t){var r=e.subject,n=e.predicate,i=e.object,a=t||null;\"name\"in e&&e.name&&(a=e.name.value);var s=\"\";if(s+=\"IRI\"===r.type?\"<\"+r.value+\">\":r.value,s+=\" \",s+=\"IRI\"===n.type?\"<\"+n.value+\">\":n.value,s+=\" \",\"IRI\"===i.type)s+=\"<\"+i.value+\">\";else if(\"blank node\"===i.type)s+=i.value;else{var o=i.value.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\\"/g,'\\\\\"');s+='\"'+o+'\"',i.datatype===RDF_LANGSTRING?i.language&&(s+=\"@\"+i.language):i.datatype!==XSD_STRING&&(s+=\"^^<\"+i.datatype+\">\")}return null!==a&&void 0!==a&&(s+=0!==a.indexOf(\"_:\")?\" <\"+a+\">\":\" \"+a),s+=\" .\\n\"}function IdentifierIssuer(e){this.prefix=e,this.counter=0,this.existing={}}function _removeDotSegments(e,t){var r=\"\";0===e.indexOf(\"/\")&&(r=\"/\");for(var n=e.split(\"/\"),i=[];n.length>0;)\".\"===n[0]||\"\"===n[0]&&n.length>1?n.shift():\"..\"!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&\"..\"!==i[i.length-1]?i.pop():i.push(\"..\"));return r+i.join(\"/\")}var jsonld={},_nodejs=\"undefined\"!=typeof module;if(jsonld.toRDF=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),t=t||{},\"base\"in t||(t.base=\"string\"==typeof e?e:\"\");var n;try{if(n=Processor.prototype.toRDF(e,t),t.format){if(\"application/nquads\"===t.format)return r(null,_toNQuads(n));throw new JsonLdError(\"Unknown output format.\",\"jsonld.UnknownFormat\",{format:t.format})}}catch(i){return r(i)}r(null,n)},jsonld.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||t.issuer||new IdentifierIssuer(\"_:b\");return _labelBlankNodes(r,e)},jsonld.prependBase=function(e,t){return _prependBase(e,t)},jsonld.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},jsonld.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},jsonld.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a}),i in this.cache||(this.cache[i]={}),this.cache[i][a]=_clone(r)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!_isArray(n)||n.length>0}return r},jsonld.hasValue=function(e,t,r){var n=!1;if(jsonld.hasProperty(e,t)){var i=e[t],a=_isList(i);if(_isArray(i)||a){a&&(i=i[\"@list\"]);for(var s=0;s<i.length;++s)if(jsonld.compareValues(r,i[s])){n=!0;break}}else _isArray(r)||(n=jsonld.compareValues(r,i))}return n},jsonld.addValue=function(e,t,r,n){if(n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1),\"allowDuplicate\"in n||(n.allowDuplicate=!0),_isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(var i=0;i<r.length;++i)jsonld.addValue(e,t,r[i],n)}else if(t in e){var a=!n.allowDuplicate&&jsonld.hasValue(e,t,r);_isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jsonld.getValues=function(e,t){var r=e[t]||[];return _isArray(r)||(r=[r]),r},jsonld.removeProperty=function(e,t){delete e[t]},jsonld.removeValue=function(e,t,r,n){n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1);var i=jsonld.getValues(e,t).filter(function(e){return!jsonld.compareValues(e,r)});0===i.length?jsonld.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jsonld.compareValues=function(e,t){return e===t?!0:_isValue(e)&&_isValue(t)&&e[\"@value\"]===t[\"@value\"]&&e[\"@type\"]===t[\"@type\"]&&e[\"@language\"]===t[\"@language\"]&&e[\"@index\"]===t[\"@index\"]?!0:_isObject(e)&&\"@id\"in e&&_isObject(t)&&\"@id\"in t?e[\"@id\"]===t[\"@id\"]:!1},jsonld.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if(\"@language\"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];_isUndefined(r)?n=i:r in i&&(n=i[r])}return n},_nodejs){if(\"undefined\"==typeof XMLSerializer)var XMLSerializer=null;if(\"undefined\"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN=\"http://www.w3.org/2001/XMLSchema#boolean\",XSD_DOUBLE=\"http://www.w3.org/2001/XMLSchema#double\",XSD_INTEGER=\"http://www.w3.org/2001/XMLSchema#integer\",XSD_STRING=\"http://www.w3.org/2001/XMLSchema#string\",RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",RDF_LIST=RDF+\"List\",RDF_FIRST=RDF+\"first\",RDF_REST=RDF+\"rest\",RDF_NIL=RDF+\"nil\",RDF_TYPE=RDF+\"type\",RDF_PLAIN_LITERAL=RDF+\"PlainLiteral\",RDF_XML_LITERAL=RDF+\"XMLLiteral\",RDF_OBJECT=RDF+\"object\",RDF_LANGSTRING=RDF+\"langString\",LINK_HEADER_REL=\"http://www.w3.org/ns/json-ld#context\",MAX_CONTEXT_URLS=10,JsonLdError=function(e,t,r){_nodejs&&(Error.call(this),Error.captureStackTrace(this,this.constructor)),this.name=t||\"jsonld.Error\",this.message=e||\"An unspecified JSON-LD error occurred.\",this.details=r||{}};_nodejs&&require(\"util\").inherits(JsonLdError,Error);var Processor=function(){};Processor.prototype.toRDF=function(e,t){var r=new IdentifierIssuer(\"_:b\"),n={\"@default\":{}};_createNodeMap(e,n,\"@default\",r);for(var i={},a=Object.keys(n).sort(),s=0;s<a.length;++s){var o=a[s];(\"@default\"===o||_isAbsoluteIri(o))&&(i[o]=_graphToRDF(n[o],r,t))}return i},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError(\"Object.keys called on non-object\");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var e=new IdentifierIssuer(this.prefix);return e.counter=this.counter,e.existing=_clone(this.existing),e},IdentifierIssuer.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(e){return e in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;n>i;++i){var a=this.list[i],s=this.left[a];(null===t||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&n-1>i&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o],this.list[o]=t;for(var i=0;n>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e},jsonld.url={},jsonld.url.parsers={simple:{keys:[\"href\",\"scheme\",\"authority\",\"path\",\"query\",\"fragment\"],regex:/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/},full:{keys:[\"href\",\"protocol\",\"scheme\",\"authority\",\"auth\",\"user\",\"password\",\"hostname\",\"port\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],regex:/^(([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?(?:(((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(e,t){for(var r={},n=jsonld.url.parsers[t||\"full\"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return r.normalizedPath=_removeDotSegments(r.path,!!r.authority),r};\n    var cb = function(err, dataset) {\n        if(err) {\n          return;\n        }\n      for (var i in dataset){\n        var graph = dataset[i];\n        for (var j in graph){\n          var statement = graph[j];\n          emit(statement.object.value, statement);\n        }\n      }\n  };\n  \n  var rdf = jsonld.toRDF(doc,cb);\n}",
                "reduce": "function (key, vals){\n  var out = [];\n  for (var i in vals)\n  {\n   out.push(vals[i]); \n  }\n  return out;\n}"
            },
            "jsonld-predicate": {
                "map": "function (doc, meta) {\n    if(/.vocabulary./.test(meta.id)) return;\n \tfunction _labelBlankNodes(e,t){if(_isArray(t))for(var r=0;r<t.length;++r)t[r]=_labelBlankNodes(e,t[r]);else if(_isList(t))t[\"@list\"]=_labelBlankNodes(e,t[\"@list\"]);else if(_isObject(t)){_isBlankNode(t)&&(t[\"@id\"]=e.getId(t[\"@id\"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];\"@id\"!==a&&(t[a]=_labelBlankNodes(e,t[a]))}}return t}function _graphToRDF(e,t,r){for(var n=[],i=Object.keys(e).sort(),a=0;a<i.length;++a)for(var s=i[a],o=e[s],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=l[u],p=o[c];if(\"@type\"===c)c=RDF_TYPE;else if(_isKeyword(c))continue;for(var d=0;d<p.length;++d){var f=p[d],h={};if(h.type=0===s.indexOf(\"_:\")?\"blank node\":\"IRI\",h.value=s,_isAbsoluteIri(s)){var y={};if(y.type=0===c.indexOf(\"_:\")?\"blank node\":\"IRI\",y.value=c,_isAbsoluteIri(c)&&(\"blank node\"!==y.type||r.produceGeneralizedRdf))if(_isList(f))_listToRDF(f[\"@list\"],t,h,y,n);else{var g=_objectToRDF(f);g&&n.push({subject:h,predicate:y,object:g})}}}}return n}function _listToRDF(e,t,r,n,i){for(var a={type:\"IRI\",value:RDF_FIRST},s={type:\"IRI\",value:RDF_REST},o={type:\"IRI\",value:RDF_NIL},l=0;l<e.length;++l){var u=e[l],c={type:\"blank node\",value:t.getId()};i.push({subject:r,predicate:n,object:c}),r=c,n=a;var p=_objectToRDF(u);p&&i.push({subject:r,predicate:n,object:p}),n=s}i.push({subject:r,predicate:n,object:o})}function _objectToRDF(e){var t={};if(_isValue(e)){t.type=\"literal\";var r=e[\"@value\"],n=e[\"@type\"]||null;_isBoolean(r)?(t.value=r.toString(),t.datatype=n||XSD_BOOLEAN):_isDouble(r)||n===XSD_DOUBLE?(_isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\\d)0*e\\+?/,\"$1E\"),t.datatype=n||XSD_DOUBLE):_isNumber(r)?(t.value=r.toFixed(0),t.datatype=n||XSD_INTEGER):\"@language\"in e?(t.value=r,t.datatype=n||RDF_LANGSTRING,t.language=e[\"@language\"]):(t.value=r,t.datatype=n||XSD_STRING)}else{var i=_isObject(e)?e[\"@id\"]:e;t.type=0===i.indexOf(\"_:\")?\"blank node\":\"IRI\",t.value=i}return\"IRI\"!==t.type||_isAbsoluteIri(t.value)?t:null}function _compareRDFTriples(e,t){for(var r=[\"subject\",\"predicate\",\"object\"],n=0;n<r.length;++n){var i=r[n];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language!==t.object.language?!1:e.object.datatype!==t.object.datatype?!1:!0}function _createNodeMap(e,t,r,n,i,a){if(_isArray(e))for(var s=0;s<e.length;++s)_createNodeMap(e[s],t,r,n,void 0,a);else{if(!_isObject(e))return void(a&&a.push(e));if(_isValue(e)){if(\"@type\"in e){var o=e[\"@type\"];0===o.indexOf(\"_:\")&&(e[\"@type\"]=o=n.getId(o))}return void(a&&a.push(e))}if(\"@type\"in e)for(var l=e[\"@type\"],s=0;s<l.length;++s){var o=l[s];0===o.indexOf(\"_:\")&&n.getId(o)}_isUndefined(i)&&(i=_isBlankNode(e)?n.getId(e[\"@id\"]):e[\"@id\"]),a&&a.push({\"@id\":i});var u=t[r],c=u[i]=u[i]||{};c[\"@id\"]=i;for(var p=Object.keys(e).sort(),d=0;d<p.length;++d){var f=p[d];if(\"@id\"!==f)if(\"@reverse\"!==f)if(\"@graph\"!==f)if(\"@type\"!==f&&_isKeyword(f)){if(\"@index\"===f&&f in c&&(e[f]!==c[f]||e[f][\"@id\"]!==c[f][\"@id\"]))throw new JsonLdError(\"Invalid JSON-LD syntax; conflicting @index property detected.\",\"jsonld.SyntaxError\",{code:\"conflicting indexes\",subject:c});c[f]=e[f]}else{var h=e[f];if(0===f.indexOf(\"_:\")&&(f=n.getId(f)),0!==h.length)for(var y=0;y<h.length;++y){var g=h[y];if(\"@type\"===f&&(g=0===g.indexOf(\"_:\")?n.getId(g):g),_isSubject(g)||_isSubjectReference(g)){var v=_isBlankNode(g)?n.getId(g[\"@id\"]):g[\"@id\"];jsonld.addValue(c,f,{\"@id\":v},{propertyIsArray:!0,allowDuplicate:!1}),_createNodeMap(g,t,r,n,v)}else if(_isList(g)){var _=[];_createNodeMap(g[\"@list\"],t,r,n,i,_),g={\"@list\":_},jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else _createNodeMap(g,t,r,n,i),jsonld.addValue(c,f,g,{propertyIsArray:!0,allowDuplicate:!1})}else jsonld.addValue(c,f,[],{propertyIsArray:!0})}else{i in t||(t[i]={});var j=\"@merged\"===r?r:i;_createNodeMap(e[f],t,j,n)}else{var b={\"@id\":i},I=e[\"@reverse\"];for(var N in I)for(var O=I[N],D=0;D<O.length;++D){var R=O[D],m=R[\"@id\"];_isBlankNode(R)&&(m=n.getId(m)),_createNodeMap(R,t,r,n,m),jsonld.addValue(u[m],N,b,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function _mergeNodeMaps(e){for(var t=e[\"@default\"],r=Object.keys(e).sort(),n=0;n<r.length;++n){var i=r[n];if(\"@default\"!==i){var a=e[i],s=t[i];s?\"@graph\"in s||(s[\"@graph\"]=[]):t[i]=s={\"@id\":i,\"@graph\":[]};for(var o=s[\"@graph\"],l=Object.keys(a).sort(),u=0;u<l.length;++u){var c=a[l[u]];_isSubjectReference(c)||o.push(c)}}}return t}function _compareShortestLeast(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:t>e?-1:1}function _prependBase(e,t){if(null===e)return t;if(-1!==t.indexOf(\":\"))return t;_isString(e)&&(e=jsonld.url.parse(e||\"\"));var r=jsonld.url.parse(t),n={protocol:e.protocol||\"\"};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,\"\"===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf(\"/\"))n.path=r.path;else{var i=e.path;\"\"!==r.path&&(i=i.substr(0,i.lastIndexOf(\"/\")+1),i.length>0&&\"/\"!==i.substr(-1)&&(i+=\"/\"),i+=r.path),n.path=i}n.query=r.query}n.path=_removeDotSegments(n.path,!!n.authority);var a=n.protocol;return null!==n.authority&&(a+=\"//\"+n.authority),a+=n.path,null!==n.query&&(a+=\"?\"+n.query),null!==r.fragment&&(a+=\"#\"+r.fragment),\"\"===a&&(a=\"./\"),a}function _getInitialContext(e){function t(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e[\"@language\"]||\"@none\",i=e.mappings,a=Object.keys(i).sort(_compareShortestLeast),s=0;s<a.length;++s){var o=a[s],l=i[o];if(null!==l){var u=l[\"@container\"]||\"@none\",c=l[\"@id\"];_isArray(c)||(c=[c]);for(var p=0;p<c.length;++p){var d=c[p],f=t[d];if(f||(t[d]=f={}),f[u]||(f[u]={\"@language\":{},\"@type\":{}}),f=f[u],l.reverse)r(l,o,f[\"@type\"],\"@reverse\");else if(\"@type\"in l)r(l,o,f[\"@type\"],l[\"@type\"]);else if(\"@language\"in l){var h=l[\"@language\"]||\"@null\";r(l,o,f[\"@language\"],h)}else r(l,o,f[\"@language\"],n),r(l,o,f[\"@type\"],\"@none\"),r(l,o,f[\"@language\"],\"@none\")}}}return t}function r(e,t,r,n){n in r||(r[n]=t)}function n(){var e={};return e[\"@base\"]=this[\"@base\"],e.mappings=_clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,\"@language\"in this&&(e[\"@language\"]=this[\"@language\"]),\"@vocab\"in this&&(e[\"@vocab\"]=this[\"@vocab\"]),e}var i=jsonld.url.parse(e.base||\"\");return{\"@base\":i,mappings:{},inverse:null,getInverse:t,clone:n}}function _isKeyword(e){if(!_isString(e))return!1;switch(e){case\"@base\":case\"@context\":case\"@container\":case\"@default\":case\"@embed\":case\"@explicit\":case\"@graph\":case\"@id\":case\"@index\":case\"@language\":case\"@list\":case\"@omitDefault\":case\"@preserve\":case\"@requireAll\":case\"@reverse\":case\"@set\":case\"@type\":case\"@value\":case\"@vocab\":return!0}return!1}function _isObject(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function _isEmptyObject(e){return _isObject(e)&&0===Object.keys(e).length}function _isArray(e){return Array.isArray(e)}function _validateTypeValue(e){if(!_isString(e)&&!_isEmptyObject(e)){var t=!1;if(_isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!_isString(e[r])){t=!1;break}}if(!t)throw new JsonLdError('Invalid JSON-LD syntax; \"@type\" value must a string, an array of strings, or an empty object.',\"jsonld.SyntaxError\",{code:\"invalid type value\",value:e})}}function _isString(e){return\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e)}function _isNumber(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function _isDouble(e){return _isNumber(e)&&-1!==String(e).indexOf(\".\")}function _isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}function _isBoolean(e){return\"boolean\"==typeof e||\"[object Boolean]\"===Object.prototype.toString.call(e)}function _isUndefined(e){return\"undefined\"==typeof e}function _isSubject(e){var t=!1;if(_isObject(e)&&!(\"@value\"in e||\"@set\"in e||\"@list\"in e)){var r=Object.keys(e).length;t=r>1||!(\"@id\"in e)}return t}function _isSubjectReference(e){return _isObject(e)&&1===Object.keys(e).length&&\"@id\"in e}function _isValue(e){return _isObject(e)&&\"@value\"in e}function _isList(e){return _isObject(e)&&\"@list\"in e}function _isBlankNode(e){var t=!1;return _isObject(e)&&(t=\"@id\"in e?0===e[\"@id\"].indexOf(\"_:\"):0===Object.keys(e).length||!(\"@value\"in e||\"@set\"in e||\"@list\"in e)),t}function _isAbsoluteIri(e){return _isString(e)&&-1!==e.indexOf(\":\")}function _clone(e){if(e&&\"object\"==typeof e){var t;if(_isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=_clone(e[r])}else if(_isObject(e)){t={};for(var n in e)t[n]=_clone(e[n])}else t=e.toString();return t}return e}function _toNQuads(e){var t=[];for(var r in e)for(var n=e[r],i=0;i<n.length;++i){var a=n[i];\"@default\"===r&&(r=null),t.push(_toNQuad(a,r))}return t.sort().join(\"\")}function _toNQuad(e,t){var r=e.subject,n=e.predicate,i=e.object,a=t||null;\"name\"in e&&e.name&&(a=e.name.value);var s=\"\";if(s+=\"IRI\"===r.type?\"<\"+r.value+\">\":r.value,s+=\" \",s+=\"IRI\"===n.type?\"<\"+n.value+\">\":n.value,s+=\" \",\"IRI\"===i.type)s+=\"<\"+i.value+\">\";else if(\"blank node\"===i.type)s+=i.value;else{var o=i.value.replace(/\\\\/g,\"\\\\\\\\\").replace(/\\t/g,\"\\\\t\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\\"/g,'\\\\\"');s+='\"'+o+'\"',i.datatype===RDF_LANGSTRING?i.language&&(s+=\"@\"+i.language):i.datatype!==XSD_STRING&&(s+=\"^^<\"+i.datatype+\">\")}return null!==a&&void 0!==a&&(s+=0!==a.indexOf(\"_:\")?\" <\"+a+\">\":\" \"+a),s+=\" .\\n\"}function IdentifierIssuer(e){this.prefix=e,this.counter=0,this.existing={}}function _removeDotSegments(e,t){var r=\"\";0===e.indexOf(\"/\")&&(r=\"/\");for(var n=e.split(\"/\"),i=[];n.length>0;)\".\"===n[0]||\"\"===n[0]&&n.length>1?n.shift():\"..\"!==n[0]?i.push(n.shift()):(n.shift(),t||i.length>0&&\"..\"!==i[i.length-1]?i.pop():i.push(\"..\"));return r+i.join(\"/\")}var jsonld={},_nodejs=\"undefined\"!=typeof module;if(jsonld.toRDF=function(e,t,r){\"function\"==typeof t&&(r=t,t={}),t=t||{},\"base\"in t||(t.base=\"string\"==typeof e?e:\"\");var n;try{if(n=Processor.prototype.toRDF(e,t),t.format){if(\"application/nquads\"===t.format)return r(null,_toNQuads(n));throw new JsonLdError(\"Unknown output format.\",\"jsonld.UnknownFormat\",{format:t.format})}}catch(i){return r(i)}r(null,n)},jsonld.relabelBlankNodes=function(e,t){t=t||{};var r=t.namer||t.issuer||new IdentifierIssuer(\"_:b\");return _labelBlankNodes(r,e)},jsonld.prependBase=function(e,t){return _prependBase(e,t)},jsonld.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},jsonld.ActiveContextCache.prototype.get=function(e,t){var r=JSON.stringify(e),n=JSON.stringify(t),i=this.cache[r];return i&&n in i?i[n]:null},jsonld.ActiveContextCache.prototype.set=function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();delete this.cache[n.activeCtx][n.localCtx]}var i=JSON.stringify(e),a=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:a}),i in this.cache||(this.cache[i]={}),this.cache[i][a]=_clone(r)},jsonld.cache={activeCtx:new jsonld.ActiveContextCache},jsonld.hasProperty=function(e,t){var r=!1;if(t in e){var n=e[t];r=!_isArray(n)||n.length>0}return r},jsonld.hasValue=function(e,t,r){var n=!1;if(jsonld.hasProperty(e,t)){var i=e[t],a=_isList(i);if(_isArray(i)||a){a&&(i=i[\"@list\"]);for(var s=0;s<i.length;++s)if(jsonld.compareValues(r,i[s])){n=!0;break}}else _isArray(r)||(n=jsonld.compareValues(r,i))}return n},jsonld.addValue=function(e,t,r,n){if(n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1),\"allowDuplicate\"in n||(n.allowDuplicate=!0),_isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(var i=0;i<r.length;++i)jsonld.addValue(e,t,r[i],n)}else if(t in e){var a=!n.allowDuplicate&&jsonld.hasValue(e,t,r);_isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jsonld.getValues=function(e,t){var r=e[t]||[];return _isArray(r)||(r=[r]),r},jsonld.removeProperty=function(e,t){delete e[t]},jsonld.removeValue=function(e,t,r,n){n=n||{},\"propertyIsArray\"in n||(n.propertyIsArray=!1);var i=jsonld.getValues(e,t).filter(function(e){return!jsonld.compareValues(e,r)});0===i.length?jsonld.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jsonld.compareValues=function(e,t){return e===t?!0:_isValue(e)&&_isValue(t)&&e[\"@value\"]===t[\"@value\"]&&e[\"@type\"]===t[\"@type\"]&&e[\"@language\"]===t[\"@language\"]&&e[\"@index\"]===t[\"@index\"]?!0:_isObject(e)&&\"@id\"in e&&_isObject(t)&&\"@id\"in t?e[\"@id\"]===t[\"@id\"]:!1},jsonld.getContextValue=function(e,t,r){var n=null;if(null===t)return n;if(\"@language\"===r&&r in e&&(n=e[r]),e.mappings[t]){var i=e.mappings[t];_isUndefined(r)?n=i:r in i&&(n=i[r])}return n},_nodejs){if(\"undefined\"==typeof XMLSerializer)var XMLSerializer=null;if(\"undefined\"==typeof Node)var Node={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var XSD_BOOLEAN=\"http://www.w3.org/2001/XMLSchema#boolean\",XSD_DOUBLE=\"http://www.w3.org/2001/XMLSchema#double\",XSD_INTEGER=\"http://www.w3.org/2001/XMLSchema#integer\",XSD_STRING=\"http://www.w3.org/2001/XMLSchema#string\",RDF=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\",RDF_LIST=RDF+\"List\",RDF_FIRST=RDF+\"first\",RDF_REST=RDF+\"rest\",RDF_NIL=RDF+\"nil\",RDF_TYPE=RDF+\"type\",RDF_PLAIN_LITERAL=RDF+\"PlainLiteral\",RDF_XML_LITERAL=RDF+\"XMLLiteral\",RDF_OBJECT=RDF+\"object\",RDF_LANGSTRING=RDF+\"langString\",LINK_HEADER_REL=\"http://www.w3.org/ns/json-ld#context\",MAX_CONTEXT_URLS=10,JsonLdError=function(e,t,r){_nodejs&&(Error.call(this),Error.captureStackTrace(this,this.constructor)),this.name=t||\"jsonld.Error\",this.message=e||\"An unspecified JSON-LD error occurred.\",this.details=r||{}};_nodejs&&require(\"util\").inherits(JsonLdError,Error);var Processor=function(){};Processor.prototype.toRDF=function(e,t){var r=new IdentifierIssuer(\"_:b\"),n={\"@default\":{}};_createNodeMap(e,n,\"@default\",r);for(var i={},a=Object.keys(n).sort(),s=0;s<a.length;++s){var o=a[s];(\"@default\"===o||_isAbsoluteIri(o))&&(i[o]=_graphToRDF(n[o],r,t))}return i},Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError(\"Object.keys called on non-object\");var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}),jsonld.IdentifierIssuer=IdentifierIssuer,jsonld.UniqueNamer=IdentifierIssuer,IdentifierIssuer.prototype.clone=function(){var e=new IdentifierIssuer(this.prefix);return e.counter=this.counter,e.existing=_clone(this.existing),e},IdentifierIssuer.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},IdentifierIssuer.prototype.getName=IdentifierIssuer.prototype.getName,IdentifierIssuer.prototype.hasId=function(e){return e in this.existing},IdentifierIssuer.prototype.isNamed=IdentifierIssuer.prototype.hasId;var Permutator=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};Permutator.prototype.hasNext=function(){return!this.done},Permutator.prototype.next=function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;n>i;++i){var a=this.list[i],s=this.left[a];(null===t||a>t)&&(s&&i>0&&a>this.list[i-1]||!s&&n-1>i&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var o=this.left[t]?r-1:r+1;this.list[r]=this.list[o],this.list[o]=t;for(var i=0;n>i;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e},jsonld.url={},jsonld.url.parsers={simple:{keys:[\"href\",\"scheme\",\"authority\",\"path\",\"query\",\"fragment\"],regex:/^(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?/},full:{keys:[\"href\",\"protocol\",\"scheme\",\"authority\",\"auth\",\"user\",\"password\",\"hostname\",\"port\",\"path\",\"directory\",\"file\",\"query\",\"fragment\"],regex:/^(([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?(?:(((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/}},jsonld.url.parse=function(e,t){for(var r={},n=jsonld.url.parsers[t||\"full\"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return r.normalizedPath=_removeDotSegments(r.path,!!r.authority),r};\n    var cb = function(err, dataset) {\n        if(err) {\n          return;\n        }\n      for (var i in dataset){\n        var graph = dataset[i];\n        for (var j in graph){\n          var statement = graph[j];\n          emit(statement.predicate.value, statement);\n        }\n      }\n  };\n  \n  var rdf = jsonld.toRDF(doc,cb);\n}",
                "reduce": "function (key, vals){\n  var out = [];\n  for (var i in vals)\n  {\n   out.push(vals[i]); \n  }\n  return out;\n}"
            }
        }
    }
}